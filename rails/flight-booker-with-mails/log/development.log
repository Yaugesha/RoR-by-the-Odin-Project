  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-02-23 17:53:25.665467', '2024-02-23 17:53:25.665471') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAirports (20240223164055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "airports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar, "duration" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at")
                     SELECT "id","start_datetime","duration","created_at","updated_at" FROM "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_601aa13c2d"
FOREIGN KEY ("arrival_airport")
  REFERENCES "airports" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar, "duration" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164655') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "flight" ADD "arrival_airport_id" integer[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "flights" ADD "departure_airport_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_flights_on_departure_airport_id" ON "flights" ("departure_airport_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223175705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:21:28.723549"], ["updated_at", "2024-02-23 18:21:28.723549"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:21:28.729586"], ["updated_at", "2024-02-23 18:21:28.729586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:21:28.733744"], ["updated_at", "2024-02-23 18:21:28.733744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:21:28.738290"], ["updated_at", "2024-02-23 18:21:28.738290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:21:28.742986"], ["updated_at", "2024-02-23 18:21:28.742986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:21:28.747635"], ["updated_at", "2024-02-23 18:21:28.747635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.0ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:21:28.753197"], ["updated_at", "2024-02-23 18:21:28.753197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:21:28.758746"], ["updated_at", "2024-02-23 18:21:28.758746"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:21:28.764684"], ["updated_at", "2024-02-23 18:21:28.764684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:21:28.769040"], ["updated_at", "2024-02-23 18:21:28.769040"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:21:28.773318"], ["updated_at", "2024-02-23 18:21:28.773318"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:21:28.778034"], ["updated_at", "2024-02-23 18:21:28.778034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:21:28.787373"], ["updated_at", "2024-02-23 18:21:28.787373"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:21:28.791669"], ["updated_at", "2024-02-23 18:21:28.791669"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:21:28.796756"], ["updated_at", "2024-02-23 18:21:28.796756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:21:28.801308"], ["updated_at", "2024-02-23 18:21:28.801308"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:21:28.805680"], ["updated_at", "2024-02-23 18:21:28.805680"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:21:28.810565"], ["updated_at", "2024-02-23 18:21:28.810565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:21:28.814325"], ["updated_at", "2024-02-23 18:21:28.814325"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:21:28.818406"], ["updated_at", "2024-02-23 18:21:28.818406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:22:49.538576"], ["updated_at", "2024-02-23 18:22:49.538576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:22:49.544025"], ["updated_at", "2024-02-23 18:22:49.544025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.1ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:22:49.547853"], ["updated_at", "2024-02-23 18:22:49.547853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:22:49.552597"], ["updated_at", "2024-02-23 18:22:49.552597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:22:49.556949"], ["updated_at", "2024-02-23 18:22:49.556949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:22:49.561119"], ["updated_at", "2024-02-23 18:22:49.561119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.0ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:22:49.566592"], ["updated_at", "2024-02-23 18:22:49.566592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:22:49.571969"], ["updated_at", "2024-02-23 18:22:49.571969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:22:49.577129"], ["updated_at", "2024-02-23 18:22:49.577129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:22:49.581030"], ["updated_at", "2024-02-23 18:22:49.581030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:22:49.585625"], ["updated_at", "2024-02-23 18:22:49.585625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:22:49.590213"], ["updated_at", "2024-02-23 18:22:49.590213"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:22:49.599894"], ["updated_at", "2024-02-23 18:22:49.599894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:22:49.603832"], ["updated_at", "2024-02-23 18:22:49.603832"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:22:49.608218"], ["updated_at", "2024-02-23 18:22:49.608218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:22:49.612463"], ["updated_at", "2024-02-23 18:22:49.612463"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:22:49.616720"], ["updated_at", "2024-02-23 18:22:49.616720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:22:49.620967"], ["updated_at", "2024-02-23 18:22:49.620967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:22:49.624821"], ["updated_at", "2024-02-23 18:22:49.624821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:22:49.628926"], ["updated_at", "2024-02-23 18:22:49.628926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id" integer DEFAULT NULL, "departure_airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_departure_airport_id" ON "aflights" ("departure_airport_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_arrival_airport_id" ON "aflights" ("arrival_airport_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id","departure_airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id","departure_airport_id" FROM "flights"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id" FROM "aflights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_arrival_airport_id" ON "aflights" ("arrival_airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id" FROM "flights"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at")
                     SELECT "id","start_datetime","duration","created_at","updated_at" FROM "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240223175705'[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_arrival_airport_id" ON "aflights" ("arrival_airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id" FROM "flights"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_91bb366993"
FOREIGN KEY ("arrival_airport_id")
  REFERENCES "arrival_airports" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id" FROM "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "flights" ADD "airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_airport_id" ON "flights" ("airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_airport_id" ON "aflights" ("airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","airport_id" FROM "flights"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "airport_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc82781b22"
FOREIGN KEY ("airport_id")
  REFERENCES "airports" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_flights_on_airport_id" ON "flights" ("airport_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at","airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","airport_id" FROM "aflights"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "flights" ADD "airport_id" integer[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "flights" ADD "airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "arrival_airport_id" ON "flights" ("airport_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tarrival_airport_id" ON "aflights" ("airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","airport_id" FROM "flights"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "airport_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc82781b22"
FOREIGN KEY ("airport_id")
  REFERENCES "airports" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "arrival_airport_id" ON "flights" ("airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at","airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","airport_id" FROM "aflights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flights" ADD "airport_id" integer[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.5ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240223164655'[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAirports (20240223164055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "airports"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240223164055'[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAirports (20240223164055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "airports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar, "duration" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164655') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "flights" ADD "airport_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "arrival_airport_id" ON "flights" ("airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "airport_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tarrival_airport_id" ON "aflights" ("airport_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","airport_id" FROM "flights"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "airport_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc82781b22"
FOREIGN KEY ("airport_id")
  REFERENCES "airports" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "arrival_airport_id" ON "flights" ("airport_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at","airport_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","airport_id" FROM "aflights"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "flights" ADD "airport_id" integer[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id_id" ON "flights" ("arrival_airport_id_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flights" ADD "departure_airport_id_id" integer[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_flights_on_departure_airport_id_id" ON "flights" ("departure_airport_id_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223175705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:31:15.917743"], ["updated_at", "2024-02-23 18:31:15.917743"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:31:15.923354"], ["updated_at", "2024-02-23 18:31:15.923354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.9ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:31:15.927592"], ["updated_at", "2024-02-23 18:31:15.927592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:31:15.932998"], ["updated_at", "2024-02-23 18:31:15.932998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:31:15.937590"], ["updated_at", "2024-02-23 18:31:15.937590"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:31:15.941679"], ["updated_at", "2024-02-23 18:31:15.941679"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.9ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:31:15.946831"], ["updated_at", "2024-02-23 18:31:15.946831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:31:15.951778"], ["updated_at", "2024-02-23 18:31:15.951778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:31:15.956942"], ["updated_at", "2024-02-23 18:31:15.956942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:31:15.961117"], ["updated_at", "2024-02-23 18:31:15.961117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:31:15.965064"], ["updated_at", "2024-02-23 18:31:15.965064"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:31:15.968996"], ["updated_at", "2024-02-23 18:31:15.968996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:31:15.978076"], ["updated_at", "2024-02-23 18:31:15.978076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:31:15.981911"], ["updated_at", "2024-02-23 18:31:15.981911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:31:15.986201"], ["updated_at", "2024-02-23 18:31:15.986201"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:31:15.991030"], ["updated_at", "2024-02-23 18:31:15.991030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:31:15.995270"], ["updated_at", "2024-02-23 18:31:15.995270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:31:15.999644"], ["updated_at", "2024-02-23 18:31:15.999644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:31:16.004163"], ["updated_at", "2024-02-23 18:31:16.004163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:31:16.008620"], ["updated_at", "2024-02-23 18:31:16.008620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:31:41.972212"], ["updated_at", "2024-02-23 18:31:41.972212"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:31:41.978137"], ["updated_at", "2024-02-23 18:31:41.978137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.1ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:31:41.982852"], ["updated_at", "2024-02-23 18:31:41.982852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:31:41.987665"], ["updated_at", "2024-02-23 18:31:41.987665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:31:41.992295"], ["updated_at", "2024-02-23 18:31:41.992295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:31:41.996074"], ["updated_at", "2024-02-23 18:31:41.996074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:31:42.002219"], ["updated_at", "2024-02-23 18:31:42.002219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:31:42.006397"], ["updated_at", "2024-02-23 18:31:42.006397"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:31:42.010899"], ["updated_at", "2024-02-23 18:31:42.010899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:31:42.015065"], ["updated_at", "2024-02-23 18:31:42.015065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:31:42.019668"], ["updated_at", "2024-02-23 18:31:42.019668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:31:42.023816"], ["updated_at", "2024-02-23 18:31:42.023816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:31:42.032837"], ["updated_at", "2024-02-23 18:31:42.032837"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:31:42.038073"], ["updated_at", "2024-02-23 18:31:42.038073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:31:42.042019"], ["updated_at", "2024-02-23 18:31:42.042019"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:31:42.046158"], ["updated_at", "2024-02-23 18:31:42.046158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:31:42.050430"], ["updated_at", "2024-02-23 18:31:42.050430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:31:42.054654"], ["updated_at", "2024-02-23 18:31:42.054654"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:31:42.058360"], ["updated_at", "2024-02-23 18:31:42.058360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:31:42.062362"], ["updated_at", "2024-02-23 18:31:42.062362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.7ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-09 22:28:31 +0300"], ["duration", "13 hours 43 minutes"], ["created_at", "2024-02-23 18:31:42.100461"], ["updated_at", "2024-02-23 18:31:42.100461"], ["arrival_airport_id_id", 30], ["departure_airport_id_id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (6.0ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-02 01:57:14 +0300"], ["duration", "13 hours 57 minutes"], ["created_at", "2024-02-23 18:31:42.115328"], ["updated_at", "2024-02-23 18:31:42.115328"], ["arrival_airport_id_id", 29], ["departure_airport_id_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-06 20:32:27 +0300"], ["duration", "19 hours 46 minutes"], ["created_at", "2024-02-23 18:31:42.165788"], ["updated_at", "2024-02-23 18:31:42.165788"], ["arrival_airport_id_id", 12], ["departure_airport_id_id", 29]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.9ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-19 01:18:28 +0300"], ["duration", "18 hours 41 minutes"], ["created_at", "2024-02-23 18:31:42.173701"], ["updated_at", "2024-02-23 18:31:42.173701"], ["arrival_airport_id_id", 1], ["departure_airport_id_id", 30]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-01 08:16:47 +0300"], ["duration", "19 hours 7 minutes"], ["created_at", "2024-02-23 18:31:42.181664"], ["updated_at", "2024-02-23 18:31:42.181664"], ["arrival_airport_id_id", 12], ["departure_airport_id_id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-14 13:32:52 +0300"], ["duration", "10 hours 5 minutes"], ["created_at", "2024-02-23 18:31:42.189619"], ["updated_at", "2024-02-23 18:31:42.189619"], ["arrival_airport_id_id", 34], ["departure_airport_id_id", 18]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-23 22:31:52 +0300"], ["duration", "10 hours 56 minutes"], ["created_at", "2024-02-23 18:31:42.197308"], ["updated_at", "2024-02-23 18:31:42.197308"], ["arrival_airport_id_id", 35], ["departure_airport_id_id", 5]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-25 23:09:10 +0300"], ["duration", "20 hours 56 minutes"], ["created_at", "2024-02-23 18:31:42.205789"], ["updated_at", "2024-02-23 18:31:42.205789"], ["arrival_airport_id_id", 16], ["departure_airport_id_id", 20]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-29 05:41:07 +0300"], ["duration", "18 hours 0 minutes"], ["created_at", "2024-02-23 18:31:42.213476"], ["updated_at", "2024-02-23 18:31:42.213476"], ["arrival_airport_id_id", 8], ["departure_airport_id_id", 12]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-22 07:41:05 +0300"], ["duration", "10 hours 38 minutes"], ["created_at", "2024-02-23 18:31:42.221801"], ["updated_at", "2024-02-23 18:31:42.221801"], ["arrival_airport_id_id", 7], ["departure_airport_id_id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-06 23:09:01 +0300"], ["duration", "13 hours 51 minutes"], ["created_at", "2024-02-23 18:31:42.230246"], ["updated_at", "2024-02-23 18:31:42.230246"], ["arrival_airport_id_id", 21], ["departure_airport_id_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (2.0ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-24 18:22:26 +0300"], ["duration", "17 hours 23 minutes"], ["created_at", "2024-02-23 18:31:42.239520"], ["updated_at", "2024-02-23 18:31:42.239520"], ["arrival_airport_id_id", 28], ["departure_airport_id_id", 35]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.9ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-14 06:14:25 +0300"], ["duration", "19 hours 0 minutes"], ["created_at", "2024-02-23 18:31:42.247535"], ["updated_at", "2024-02-23 18:31:42.247535"], ["arrival_airport_id_id", 5], ["departure_airport_id_id", 26]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-10 23:28:58 +0300"], ["duration", "18 hours 29 minutes"], ["created_at", "2024-02-23 18:31:42.256670"], ["updated_at", "2024-02-23 18:31:42.256670"], ["arrival_airport_id_id", 38], ["departure_airport_id_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-11 09:34:09 +0300"], ["duration", "11 hours 39 minutes"], ["created_at", "2024-02-23 18:31:42.264472"], ["updated_at", "2024-02-23 18:31:42.264472"], ["arrival_airport_id_id", 28], ["departure_airport_id_id", 7]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-08 02:16:03 +0300"], ["duration", "15 hours 20 minutes"], ["created_at", "2024-02-23 18:31:42.272476"], ["updated_at", "2024-02-23 18:31:42.272476"], ["arrival_airport_id_id", 6], ["departure_airport_id_id", 11]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-14 20:34:12 +0300"], ["duration", "18 hours 24 minutes"], ["created_at", "2024-02-23 18:31:42.280267"], ["updated_at", "2024-02-23 18:31:42.280267"], ["arrival_airport_id_id", 28], ["departure_airport_id_id", 39]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-13 19:42:48 +0300"], ["duration", "10 hours 11 minutes"], ["created_at", "2024-02-23 18:31:42.288470"], ["updated_at", "2024-02-23 18:31:42.288470"], ["arrival_airport_id_id", 30], ["departure_airport_id_id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-03 07:42:18 +0300"], ["duration", "16 hours 4 minutes"], ["created_at", "2024-02-23 18:31:42.296462"], ["updated_at", "2024-02-23 18:31:42.296462"], ["arrival_airport_id_id", 27], ["departure_airport_id_id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (2.9ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id_id", "departure_airport_id_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-12 10:40:14 +0300"], ["duration", "11 hours 9 minutes"], ["created_at", "2024-02-23 18:31:42.304406"], ["updated_at", "2024-02-23 18:31:42.304406"], ["arrival_airport_id_id", 3], ["departure_airport_id_id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2024-02-23 21:37:09 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2417)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2551)
Completed 500 Internal Server Error in 2005ms (ActiveRecord: 0.0ms | Allocations: 985025)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if !@flights.blank? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.name %> - Departure: <%= flight.departure_airport.name %></p>
  <% end %>
<% else %>

):
1:    <% if !@flights.blank? %>
2:      <% for flight in @flights %>
3:        <p>Arrival: <%= flight.arrival_airport.name %> - Departure: <%= flight.departure_airport.name %></p>
4:      <% end %>
5:    <% else %>
  
app/views/flights/index.html.erb:7: syntax error, unexpected end-of-input
Started GET "/" for ::1 at 2024-02-23 21:37:13 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1183)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 1282)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1559)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if !@flights.blank? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.name %> - Departure: <%= flight.departure_airport.name %></p>
  <% end %>
<% else %>

):
1:    <% if !@flights.blank? %>
2:      <% for flight in @flights %>
3:        <p>Arrival: <%= flight.arrival_airport.name %> - Departure: <%= flight.departure_airport.name %></p>
4:      <% end %>
5:    <% else %>
  
app/views/flights/index.html.erb:7: syntax error, unexpected end-of-input
Started GET "/" for ::1 at 2024-02-23 21:37:33 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  Rendered flights/index.html.erb within layouts/application (Duration: 84.3ms | Allocations: 13280)
  Rendered layout layouts/application.html.erb (Duration: 84.7ms | Allocations: 13372)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 6.0ms | Allocations: 15657)


  
ActionView::Template::Error (undefined method `arrival_airport' for #<Flight id: 1, start_datetime: "2024-03-09 22:28:31 +0300", duration: "13 hours 43 minutes", created_at: "2024-02-23 18:31:42.100461000 +0000", updated_at: "2024-02-23 18:31:42.100461000 +0000", arrival_airport_id_id: 30, departure_airport_id_id: 11>):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= flight.arrival_airport.name %> - Departure: <%= flight.departure_airport.name %></p>
    4:   <% end %>
    5: <% end %>
  
app/views/flights/index.html.erb:3
app/views/flights/index.html.erb:2
Started GET "/" for ::1 at 2024-02-23 21:37:45 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  Rendered flights/index.html.erb within layouts/application (Duration: 68.0ms | Allocations: 15151)
  Rendered layout layouts/application.html.erb (Duration: 68.6ms | Allocations: 15243)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 6.2ms | Allocations: 17522)


  
ActionView::Template::Error (undefined method `name' for #<Airport id: 30, code: "SIN", created_at: "2024-02-23 18:31:42.015065000 +0000", updated_at: "2024-02-23 18:31:42.015065000 +0000">):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= flight.arrival_airport_id.name %> - Departure: <%= flight.departure_airport_id.name %></p>
    4:   <% end %>
    5: <% end %>
  
app/views/flights/index.html.erb:3
app/views/flights/index.html.erb:2
Started GET "/" for ::1 at 2024-02-23 21:38:14 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 3436)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 3528)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.1ms | Allocations: 5842)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airports'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= flight.arrival_airport_id.name %> - Departure: <%= flight.departure_airport_id.name %></p>
    4:   <% end %>
  
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 21:38:28 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1625)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 1717)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.0ms | Allocations: 4111)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airports'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= flight.arrival_airport_id.name %> - Departure: <%= flight.departure_airport_id.name %></p>
    4:   <% end %>
  
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 21:38:37 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  Rendered flights/index.html.erb within layouts/application (Duration: 43.4ms | Allocations: 10421)
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | Allocations: 10513)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 8.3ms | Allocations: 12792)


  
ActionView::Template::Error (undefined method `name' for #<Airport id: 30, code: "SIN", created_at: "2024-02-23 18:31:42.015065000 +0000", updated_at: "2024-02-23 18:31:42.015065000 +0000">):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= flight.arrival_airport_id.name %> - Departure: <%= flight.departure_airport_id.name %></p>
    4:   <% end %>
    5: <% end %>
  
app/views/flights/index.html.erb:3
app/views/flights/index.html.erb:2
Started GET "/" for ::1 at 2024-02-23 21:39:27 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  Rendered flights/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 10249)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 10341)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 4.4ms | Allocations: 12618)


  
ActionView::Template::Error (undefined method `Airport' for #<ActionView::Base:0x0000000001ebb8>):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport(flight.arrival_airport_id).code %> - Departure: <%= Airport(flight.departure_airport_id).code %></p>
    4:   <% end %>
    5: <% end %>
  
app/views/flights/index.html.erb:3
app/views/flights/index.html.erb:2
Started GET "/" for ::1 at 2024-02-23 21:40:01 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  Rendered flights/index.html.erb within layouts/application (Duration: 42.5ms | Allocations: 10358)
  Rendered layout layouts/application.html.erb (Duration: 43.1ms | Allocations: 10450)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 4.5ms | Allocations: 12729)


  
ActionView::Template::Error (You are passing an instance of ActiveRecord::Base to `find`. Please pass the id of the object by calling `.id`.):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
    5:   <% end %>
    6: <% end %>
  
app/views/flights/index.html.erb:3
app/views/flights/index.html.erb:2
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id_id" integer DEFAULT NULL, "departure_airport_id_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_departure_airport_id_id" ON "aflights" ("departure_airport_id_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_arrival_airport_id_id" ON "aflights" ("arrival_airport_id_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id_id","departure_airport_id_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id_id","departure_airport_id_id" FROM "flights"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id_id" ON "flights" ("arrival_airport_id_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id_id" FROM "aflights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "arrival_airport_id_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aflights_on_arrival_airport_id_id" ON "aflights" ("arrival_airport_id_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aflights" ("id","start_datetime","duration","created_at","updated_at","arrival_airport_id_id")
                     SELECT "id","start_datetime","duration","created_at","updated_at","arrival_airport_id_id" FROM "flights"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "flights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar DEFAULT NULL, "duration" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "flights" ("id","start_datetime","duration","created_at","updated_at")
                     SELECT "id","start_datetime","duration","created_at","updated_at" FROM "aflights"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aflights"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240223175705'[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flights" ADD "departure_airport_id" integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_flights_on_departure_airport_id" ON "flights" ("departure_airport_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223175705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (1.0ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (1.1ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 4]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 5]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.9ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 6]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 7]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 8]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 9]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 10]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.9ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 11]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (1.1ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 12]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.9ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 13]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.9ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 14]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 15]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.8ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 16]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.9ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 17]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.4ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 18]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.6ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 19]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Destroy (0.5ms)[0m  [1m[31mDELETE FROM "flights" WHERE "flights"."id" = ?[0m  [["id", 20]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Load (1.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."arrival_airport_id_id" = ?[0m  [["arrival_airport_id_id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-02-23 18:44:41.153568', '2024-02-23 18:44:41.153572') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAirports (20240223164055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "airports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar, "duration" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164655') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "flights" ADD "departure_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_departure_airport_id" ON "flights" ("departure_airport_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223175705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:44:48.076216"], ["updated_at", "2024-02-23 18:44:48.076216"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:44:48.082473"], ["updated_at", "2024-02-23 18:44:48.082473"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.9ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:44:48.086700"], ["updated_at", "2024-02-23 18:44:48.086700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:44:48.091644"], ["updated_at", "2024-02-23 18:44:48.091644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:44:48.096507"], ["updated_at", "2024-02-23 18:44:48.096507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:44:48.100992"], ["updated_at", "2024-02-23 18:44:48.100992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.1ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:44:48.106543"], ["updated_at", "2024-02-23 18:44:48.106543"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:44:48.111740"], ["updated_at", "2024-02-23 18:44:48.111740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:44:48.116584"], ["updated_at", "2024-02-23 18:44:48.116584"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:44:48.121314"], ["updated_at", "2024-02-23 18:44:48.121314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:44:48.125562"], ["updated_at", "2024-02-23 18:44:48.125562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:44:48.129662"], ["updated_at", "2024-02-23 18:44:48.129662"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:44:48.138912"], ["updated_at", "2024-02-23 18:44:48.138912"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:44:48.143301"], ["updated_at", "2024-02-23 18:44:48.143301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:44:48.147167"], ["updated_at", "2024-02-23 18:44:48.147167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:44:48.151525"], ["updated_at", "2024-02-23 18:44:48.151525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:44:48.155294"], ["updated_at", "2024-02-23 18:44:48.155294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:44:48.158953"], ["updated_at", "2024-02-23 18:44:48.158953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:44:48.163159"], ["updated_at", "2024-02-23 18:44:48.163159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:44:48.167451"], ["updated_at", "2024-02-23 18:44:48.167451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:45:47.348225"], ["updated_at", "2024-02-23 18:45:47.348225"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:45:47.354209"], ["updated_at", "2024-02-23 18:45:47.354209"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:45:47.358061"], ["updated_at", "2024-02-23 18:45:47.358061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:45:47.363252"], ["updated_at", "2024-02-23 18:45:47.363252"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:45:47.368228"], ["updated_at", "2024-02-23 18:45:47.368228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:45:47.373037"], ["updated_at", "2024-02-23 18:45:47.373037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:45:47.379894"], ["updated_at", "2024-02-23 18:45:47.379894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:45:47.384426"], ["updated_at", "2024-02-23 18:45:47.384426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:45:47.388726"], ["updated_at", "2024-02-23 18:45:47.388726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:45:47.393208"], ["updated_at", "2024-02-23 18:45:47.393208"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:45:47.397950"], ["updated_at", "2024-02-23 18:45:47.397950"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:45:47.402552"], ["updated_at", "2024-02-23 18:45:47.402552"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:45:47.412039"], ["updated_at", "2024-02-23 18:45:47.412039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:45:47.417185"], ["updated_at", "2024-02-23 18:45:47.417185"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:45:47.421423"], ["updated_at", "2024-02-23 18:45:47.421423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:45:47.425926"], ["updated_at", "2024-02-23 18:45:47.425926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:45:47.430230"], ["updated_at", "2024-02-23 18:45:47.430230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:45:47.434799"], ["updated_at", "2024-02-23 18:45:47.434799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:45:47.438897"], ["updated_at", "2024-02-23 18:45:47.438897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:45:47.443648"], ["updated_at", "2024-02-23 18:45:47.443648"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
Started GET "/" for ::1 at 2024-02-23 21:46:01 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  Rendered flights/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1161)
  Rendered layout layouts/application.html.erb (Duration: 594.0ms | Allocations: 89960)
Completed 200 OK in 986ms (Views: 595.9ms | ActiveRecord: 3.1ms | Allocations: 380649)


  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:46:40.039810"], ["updated_at", "2024-02-23 18:46:40.039810"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:46:40.047834"], ["updated_at", "2024-02-23 18:46:40.047834"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.0ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:46:40.052069"], ["updated_at", "2024-02-23 18:46:40.052069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:46:40.057163"], ["updated_at", "2024-02-23 18:46:40.057163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:46:40.062005"], ["updated_at", "2024-02-23 18:46:40.062005"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:46:40.066288"], ["updated_at", "2024-02-23 18:46:40.066288"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:46:40.072707"], ["updated_at", "2024-02-23 18:46:40.072707"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:46:40.078044"], ["updated_at", "2024-02-23 18:46:40.078044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:46:40.082329"], ["updated_at", "2024-02-23 18:46:40.082329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:46:40.087037"], ["updated_at", "2024-02-23 18:46:40.087037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:46:40.091589"], ["updated_at", "2024-02-23 18:46:40.091589"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:46:40.095992"], ["updated_at", "2024-02-23 18:46:40.095992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:46:40.105649"], ["updated_at", "2024-02-23 18:46:40.105649"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:46:40.110510"], ["updated_at", "2024-02-23 18:46:40.110510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:46:40.114770"], ["updated_at", "2024-02-23 18:46:40.114770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:46:40.119399"], ["updated_at", "2024-02-23 18:46:40.119399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:46:40.123896"], ["updated_at", "2024-02-23 18:46:40.123896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:46:40.128371"], ["updated_at", "2024-02-23 18:46:40.128371"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:46:40.132465"], ["updated_at", "2024-02-23 18:46:40.132465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:46:40.137253"], ["updated_at", "2024-02-23 18:46:40.137253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-02-23 18:47:47.517503', '2024-02-23 18:47:47.517509') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAirports (20240223164055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "airports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar, "duration" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164655') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flights" ADD "departure_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_departure_airport_id" ON "flights" ("departure_airport_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223175705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:47:52.333664"], ["updated_at", "2024-02-23 18:47:52.333664"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:47:52.340010"], ["updated_at", "2024-02-23 18:47:52.340010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:47:52.343950"], ["updated_at", "2024-02-23 18:47:52.343950"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:47:52.350810"], ["updated_at", "2024-02-23 18:47:52.350810"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:47:52.355629"], ["updated_at", "2024-02-23 18:47:52.355629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:47:52.359483"], ["updated_at", "2024-02-23 18:47:52.359483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:47:52.364940"], ["updated_at", "2024-02-23 18:47:52.364940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:47:52.370116"], ["updated_at", "2024-02-23 18:47:52.370116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:47:52.374249"], ["updated_at", "2024-02-23 18:47:52.374249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:47:52.378395"], ["updated_at", "2024-02-23 18:47:52.378395"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:47:52.382399"], ["updated_at", "2024-02-23 18:47:52.382399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:47:52.386756"], ["updated_at", "2024-02-23 18:47:52.386756"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:47:52.395916"], ["updated_at", "2024-02-23 18:47:52.395916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:47:52.400708"], ["updated_at", "2024-02-23 18:47:52.400708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:47:52.404689"], ["updated_at", "2024-02-23 18:47:52.404689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:47:52.408806"], ["updated_at", "2024-02-23 18:47:52.408806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:47:52.413065"], ["updated_at", "2024-02-23 18:47:52.413065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:47:52.417436"], ["updated_at", "2024-02-23 18:47:52.417436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:47:52.421776"], ["updated_at", "2024-02-23 18:47:52.421776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:47:52.425629"], ["updated_at", "2024-02-23 18:47:52.425629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mAirport Load (1.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-02-23 18:48:54.605625', '2024-02-23 18:48:54.605630') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAirports (20240223164055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "airports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFlights (20240223164655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "flights" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "start_datetime" varchar, "duration" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223164655') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddDepartureAndArrivalRefsToFlights (20240223175705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "flights" ADD "arrival_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_arrival_airport_id" ON "flights" ("arrival_airport_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "flights" ADD "departure_airport_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_flights_on_departure_airport_id" ON "flights" ("departure_airport_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240223175705') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-02-23 18:49:06.451494"], ["updated_at", "2024-02-23 18:49:06.451494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-02-23 18:49:06.457111"], ["updated_at", "2024-02-23 18:49:06.457111"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-02-23 18:49:06.460869"], ["updated_at", "2024-02-23 18:49:06.460869"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-02-23 18:49:06.465671"], ["updated_at", "2024-02-23 18:49:06.465671"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-02-23 18:49:06.470300"], ["updated_at", "2024-02-23 18:49:06.470300"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-02-23 18:49:06.474120"], ["updated_at", "2024-02-23 18:49:06.474120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-02-23 18:49:06.479109"], ["updated_at", "2024-02-23 18:49:06.479109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-02-23 18:49:06.484273"], ["updated_at", "2024-02-23 18:49:06.484273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-02-23 18:49:06.488617"], ["updated_at", "2024-02-23 18:49:06.488617"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-02-23 18:49:06.493165"], ["updated_at", "2024-02-23 18:49:06.493165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.7ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-02-23 18:49:06.497121"], ["updated_at", "2024-02-23 18:49:06.497121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (6.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-02-23 18:49:06.501523"], ["updated_at", "2024-02-23 18:49:06.501523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-02-23 18:49:06.510516"], ["updated_at", "2024-02-23 18:49:06.510516"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-02-23 18:49:06.514971"], ["updated_at", "2024-02-23 18:49:06.514971"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-02-23 18:49:06.519160"], ["updated_at", "2024-02-23 18:49:06.519160"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-02-23 18:49:06.523519"], ["updated_at", "2024-02-23 18:49:06.523519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-02-23 18:49:06.527788"], ["updated_at", "2024-02-23 18:49:06.527788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.8ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-02-23 18:49:06.531740"], ["updated_at", "2024-02-23 18:49:06.531740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.2ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-02-23 18:49:06.536126"], ["updated_at", "2024-02-23 18:49:06.536126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-02-23 18:49:06.539846"], ["updated_at", "2024-02-23 18:49:06.539846"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-11 17:21:13 +0300"], ["duration", "17 hours 6 minutes"], ["created_at", "2024-02-23 18:49:06.574144"], ["updated_at", "2024-02-23 18:49:06.574144"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (2.2ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-07 01:55:57 +0300"], ["duration", "17 hours 38 minutes"], ["created_at", "2024-02-23 18:49:06.582807"], ["updated_at", "2024-02-23 18:49:06.582807"], ["arrival_airport_id", 20], ["departure_airport_id", 17]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-21 05:57:07 +0300"], ["duration", "11 hours 40 minutes"], ["created_at", "2024-02-23 18:49:06.636481"], ["updated_at", "2024-02-23 18:49:06.636481"], ["arrival_airport_id", 3], ["departure_airport_id", 20]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-05 01:20:05 +0300"], ["duration", "20 hours 34 minutes"], ["created_at", "2024-02-23 18:49:06.644437"], ["updated_at", "2024-02-23 18:49:06.644437"], ["arrival_airport_id", 13], ["departure_airport_id", 6]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-21 11:39:53 +0300"], ["duration", "16 hours 32 minutes"], ["created_at", "2024-02-23 18:49:06.652353"], ["updated_at", "2024-02-23 18:49:06.652353"], ["arrival_airport_id", 6], ["departure_airport_id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-03 22:56:04 +0300"], ["duration", "16 hours 23 minutes"], ["created_at", "2024-02-23 18:49:06.660647"], ["updated_at", "2024-02-23 18:49:06.660647"], ["arrival_airport_id", 3], ["departure_airport_id", 15]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.9ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-27 01:42:52 +0300"], ["duration", "12 hours 19 minutes"], ["created_at", "2024-02-23 18:49:06.668191"], ["updated_at", "2024-02-23 18:49:06.668191"], ["arrival_airport_id", 16], ["departure_airport_id", 17]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-03 14:33:29 +0300"], ["duration", "13 hours 23 minutes"], ["created_at", "2024-02-23 18:49:06.676397"], ["updated_at", "2024-02-23 18:49:06.676397"], ["arrival_airport_id", 14], ["departure_airport_id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-06 08:03:39 +0300"], ["duration", "13 hours 13 minutes"], ["created_at", "2024-02-23 18:49:06.684479"], ["updated_at", "2024-02-23 18:49:06.684479"], ["arrival_airport_id", 10], ["departure_airport_id", 5]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-25 00:10:10 +0300"], ["duration", "17 hours 31 minutes"], ["created_at", "2024-02-23 18:49:06.692153"], ["updated_at", "2024-02-23 18:49:06.692153"], ["arrival_airport_id", 15], ["departure_airport_id", 12]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-23 16:43:17 +0300"], ["duration", "14 hours 21 minutes"], ["created_at", "2024-02-23 18:49:06.700649"], ["updated_at", "2024-02-23 18:49:06.700649"], ["arrival_airport_id", 12], ["departure_airport_id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-23 07:30:59 +0300"], ["duration", "14 hours 46 minutes"], ["created_at", "2024-02-23 18:49:06.709374"], ["updated_at", "2024-02-23 18:49:06.709374"], ["arrival_airport_id", 14], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-15 14:15:36 +0300"], ["duration", "18 hours 30 minutes"], ["created_at", "2024-02-23 18:49:06.717456"], ["updated_at", "2024-02-23 18:49:06.717456"], ["arrival_airport_id", 15], ["departure_airport_id", 7]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.9ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-16 16:58:46 +0300"], ["duration", "17 hours 46 minutes"], ["created_at", "2024-02-23 18:49:06.724609"], ["updated_at", "2024-02-23 18:49:06.724609"], ["arrival_airport_id", 3], ["departure_airport_id", 15]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.7ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-16 16:03:15 +0300"], ["duration", "19 hours 4 minutes"], ["created_at", "2024-02-23 18:49:06.731893"], ["updated_at", "2024-02-23 18:49:06.731893"], ["arrival_airport_id", 5], ["departure_airport_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.7ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-12 21:39:35 +0300"], ["duration", "11 hours 57 minutes"], ["created_at", "2024-02-23 18:49:06.738801"], ["updated_at", "2024-02-23 18:49:06.738801"], ["arrival_airport_id", 11], ["departure_airport_id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-07 03:17:43 +0300"], ["duration", "16 hours 39 minutes"], ["created_at", "2024-02-23 18:49:06.745559"], ["updated_at", "2024-02-23 18:49:06.745559"], ["arrival_airport_id", 7], ["departure_airport_id", 16]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-25 17:01:21 +0300"], ["duration", "15 hours 28 minutes"], ["created_at", "2024-02-23 18:49:06.752852"], ["updated_at", "2024-02-23 18:49:06.752852"], ["arrival_airport_id", 3], ["departure_airport_id", 12]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.2ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-14 11:28:27 +0300"], ["duration", "15 hours 56 minutes"], ["created_at", "2024-02-23 18:49:06.759707"], ["updated_at", "2024-02-23 18:49:06.759707"], ["arrival_airport_id", 11], ["departure_airport_id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.3ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-10 05:34:37 +0300"], ["duration", "12 hours 18 minutes"], ["created_at", "2024-02-23 18:49:06.767422"], ["updated_at", "2024-02-23 18:49:06.767422"], ["arrival_airport_id", 9], ["departure_airport_id", 19]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2024-02-23 21:49:34 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  Rendered flights/index.html.erb within layouts/application (Duration: 256.2ms | Allocations: 31706)
  Rendered layout layouts/application.html.erb (Duration: 551.5ms | Allocations: 65841)
Completed 200 OK in 884ms (Views: 550.3ms | ActiveRecord: 6.1ms | Allocations: 356533)


Started GET "/" for ::1 at 2024-02-23 21:49:58 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  Rendered flights/index.html.erb within layouts/application (Duration: 45.0ms | Allocations: 10320)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 10412)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 4.9ms | Allocations: 12714)


  
ActionView::Template::Error (undefined method `code' for 2:Integer):
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
    5:     <p>Arrival: <%= flight.arrival_airport_id.code %> - 
    6:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
    7:   <% end %>
    8: <% end %>
  
app/views/flights/index.html.erb:5
app/views/flights/index.html.erb:2
Started GET "/" for ::1 at 2024-02-23 21:50:38 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2436)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 2528)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.6ms | Allocations: 4837)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airport'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
  
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 21:50:46 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1660)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 1752)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.4ms | Allocations: 4053)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airports'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
  
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 21:50:55 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1654)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 1746)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.5ms | Allocations: 4047)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airports'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
  
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 21:51:02 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1662)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 1754)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 4.2ms | Allocations: 4151)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airports'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
  
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 21:52:40 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1596)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 1688)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.7ms | Allocations: 3988)


  
ActionView::Template::Error (Can't join 'Flight' to association named 'airports'; perhaps you misspelled it?):
    1: <% if !@flights.blank? %>
    2:   <% for flight in @flights %>
    3:     <p>Arrival: <%= Airport.find(flight.arrival_airport_id).code %> - 
    4:     Departure: <%= Airport.find(flight.departure_airport_id).code %></p>
  
app/views/flights/index.html.erb:1
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" ORDER BY "flights"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Started GET "/" for ::1 at 2024-02-23 21:53:57 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:5
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:6
  Rendered flights/index.html.erb within layouts/application (Duration: 184.5ms | Allocations: 41757)
  Rendered layout layouts/application.html.erb (Duration: 205.4ms | Allocations: 56293)
Completed 200 OK in 218ms (Views: 201.3ms | ActiveRecord: 6.0ms | Allocations: 58594)


Started GET "/" for ::1 at 2024-02-23 21:54:05 +0300
Processing by FlightsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:3
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:4
  Rendered flights/index.html.erb within layouts/application (Duration: 113.0ms | Allocations: 28293)
  Rendered layout layouts/application.html.erb (Duration: 130.3ms | Allocations: 42830)
Completed 200 OK in 143ms (Views: 126.8ms | ActiveRecord: 5.4ms | Allocations: 45135)


Started GET "/" for ::1 at 2024-02-23 22:03:35 +0300
Processing by FlightsController#index as HTML
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 1690)


  
NoMethodError (undefined method `departure_airport' for nil:NilClass):
  
app/controllers/flights_controller.rb:5:in `index'
Started GET "/" for ::1 at 2024-02-23 22:04:51 +0300
Processing by FlightsController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 2670)


  
NoMethodError (undefined method `departure_airport' for Airport:Class):
  
app/controllers/flights_controller.rb:5:in `index'
Started GET "/" for ::1 at 2024-02-23 22:05:01 +0300
Processing by FlightsController#index as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 2724)


  
NoMethodError (undefined method `each' for Airport:Class):
  
app/controllers/flights_controller.rb:5:in `index'
Started GET "/" for ::1 at 2024-02-23 22:05:15 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (2.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:1
  Rendered flights/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 5553)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 5645)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 3.9ms | Allocations: 11827)


  
ActionView::Template::Error (undefined method `to_model' for #<ActiveRecord::Relation [#<Flight id: 1, start_datetime: "2024-03-11 17:21:13 +0300", duration: "17 hours 6 minutes", created_at: "2024-02-23 18:49:06.574144000 +0000", updated_at: "2024-02-23 18:49:06.574144000 +0000", arrival_airport_id: 2, departure_airport_id: 9>, #<Flight id: 2, start_datetime: "2024-03-07 01:55:57 +0300", duration: "17 hours 38 minutes", created_at: "2024-02-23 18:49:06.582807000 +0000", updated_at: "2024-02-23 18:49:06.582807000 +0000", arrival_airport_id: 20, departure_airport_id: 17>, #<Flight id: 3, start_datetime: "2024-03-21 05:57:07 +0300", duration: "11 hours 40 minutes", created_at: "2024-02-23 18:49:06.636481000 +0000", updated_at: "2024-02-23 18:49:06.636481000 +0000", arrival_airport_id: 3, departure_airport_id: 20>, #<Flight id: 4, start_datetime: "2024-03-05 01:20:05 +0300", duration: "20 hours 34 minutes", created_at: "2024-02-23 18:49:06.644437000 +0000", updated_at: "2024-02-23 18:49:06.644437000 +0000", arrival_airport_id: 13, departure_airport_id: 6>, #<Flight id: 5, start_datetime: "2024-03-21 11:39:53 +0300", duration: "16 hours 32 minutes", created_at: "2024-02-23 18:49:06.652353000 +0000", updated_at: "2024-02-23 18:49:06.652353000 +0000", arrival_airport_id: 6, departure_airport_id: 3>, #<Flight id: 6, start_datetime: "2024-03-03 22:56:04 +0300", duration: "16 hours 23 minutes", created_at: "2024-02-23 18:49:06.660647000 +0000", updated_at: "2024-02-23 18:49:06.660647000 +0000", arrival_airport_id: 3, departure_airport_id: 15>, #<Flight id: 7, start_datetime: "2024-02-27 01:42:52 +0300", duration: "12 hours 19 minutes", created_at: "2024-02-23 18:49:06.668191000 +0000", updated_at: "2024-02-23 18:49:06.668191000 +0000", arrival_airport_id: 16, departure_airport_id: 17>, #<Flight id: 8, start_datetime: "2024-03-03 14:33:29 +0300", duration: "13 hours 23 minutes", created_at: "2024-02-23 18:49:06.676397000 +0000", updated_at: "2024-02-23 18:49:06.676397000 +0000", arrival_airport_id: 14, departure_airport_id: 2>, #<Flight id: 9, start_datetime: "2024-03-06 08:03:39 +0300", duration: "13 hours 13 minutes", created_at: "2024-02-23 18:49:06.684479000 +0000", updated_at: "2024-02-23 18:49:06.684479000 +0000", arrival_airport_id: 10, departure_airport_id: 5>, #<Flight id: 10, start_datetime: "2024-02-25 00:10:10 +0300", duration: "17 hours 31 minutes", created_at: "2024-02-23 18:49:06.692153000 +0000", updated_at: "2024-02-23 18:49:06.692153000 +0000", arrival_airport_id: 15, departure_airport_id: 12>, ...]>):
    1: <% if !@flights.blank? %>
    2: 
    3:   <%= form_with model: @flights do |f| %>
    4:     <%= f.select(:departure_airport, @departure_options) %>
    5:     <%= f.select(:arrival_airport, @arrival_options) %>
    6:   <% end %>
  
app/views/flights/index.html.erb:3
Started GET "/" for ::1 at 2024-02-23 22:06:02 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1261)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 1353)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.3ms | Allocations: 10967)


  
ActionView::Template::Error (undefined method `flights_path' for #<ActionView::Base:0x00000000035e08>):
    1: <% if !@flights.blank? %>
    2: 
    3:   <%= form_with model: @flights do |f| %>
    4:     <%= f.select(:departure_airport, @departure_options) %>
    5:     <%= f.select(:arrival_airport, @arrival_options) %>
    6:   <% end %>
  
app/views/flights/index.html.erb:3
Started GET "/" for ::1 at 2024-02-23 22:06:45 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1255)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1358)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 3.3ms | Allocations: 11016)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if !@flights.blank? %>

  <%= form_with model: @flights do |f|, method: :get %>
    <%= f.select(:departure_airport, @departure_options) %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  <% end %>

  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %></p>
  <% end %>
<% end %>

):
1:    <% if !@flights.blank? %>
2:    
3:      <%= form_with model: @flights do |f|, method: :get %>
4:        <%= f.select(:departure_airport, @departure_options) %>
5:        <%= f.select(:arrival_airport, @arrival_options) %>
6:      <% end %>
7:    
8:      <% for flight in @flights %>
9:        <p>Arrival: <%= flight.arrival_airport.code %> - 
10:        Departure: <%= flight.departure_airport.code %></p>
11:      <% end %>
12:    <% end %>
  
app/views/flights/index.html.erb:3: syntax error, unexpected ','
app/views/flights/index.html.erb:14: syntax error, unexpected `end'
Started GET "/" for ::1 at 2024-02-23 22:07:24 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1248)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1340)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.4ms | Allocations: 10934)


  
ActionView::Template::Error (undefined method `flights_path' for #<ActionView::Base:0x0000000003cca8>):
    1: <% if !@flights.blank? %>
    2: 
    3:   <%= form_with model: @flights, method: :get do |f| %>
    4:     <%= f.select(:departure_airport, @departure_options) %>
    5:     <%= f.select(:arrival_airport, @arrival_options) %>
    6:   <% end %>
  
app/views/flights/index.html.erb:3
Started GET "/" for ::1 at 2024-02-23 22:08:48 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 3784)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 3876)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.2ms | Allocations: 13467)


  
ActionView::Template::Error (undefined method `each' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
     5:     <%= f.select(:arrival_airport, @arrival_options) %>
     6:   <% end %>
     7: 
     8:   <% for flight in @flights %>
     9:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    10:     Departure: <%= flight.departure_airport.code %></p>
    11:   <% end %>
  
app/views/flights/index.html.erb:8
Started GET "/" for ::1 at 2024-02-23 22:09:38 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3100)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3192)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 6.5ms | Allocations: 12786)


  
ActionView::Template::Error (undefined method `each' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    4:   <% end %>
    5: 
    6: <% if !@flights.blank? %>
    7:   <% for flight in @flights %>
    8:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    9:     Departure: <%= flight.departure_airport.code %></p>
   10:   <% end %>
  
app/views/flights/index.html.erb:7
Started GET "/" for ::1 at 2024-02-23 22:10:08 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1222)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1325)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 6.6ms | Allocations: 10956)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check   <%= form_with model: @flights do |f| %>
    <%= f.select(:departure_airport, @departure_options) %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  <% end %>

<%# if !@flights.blank? %>
  <% #for flight in @flights %>
    <p>Arrival: <%=# flight.arrival_airport.code %> - 
    Departure: <%=# flight.departure_airport.code %></p>
  <%# end %>
<%# end %>

):
1:      <%= form_with model: @flights do |f| %>
2:        <%= f.select(:departure_airport, @departure_options) %>
3:        <%= f.select(:arrival_airport, @arrival_options) %>
4:      <% end %>
5:    
6:    <%# if !@flights.blank? %>
7:      <% #for flight in @flights %>
8:        <p>Arrival: <%=# flight.arrival_airport.code %> - 
9:        Departure: <%=# flight.departure_airport.code %></p>
10:      <%# end %>
11:    <%# end %>
  
app/views/flights/index.html.erb:9: syntax error, unexpected label
app/views/flights/index.html.erb:13: unterminated regexp meets end of file
Started GET "/" for ::1 at 2024-02-23 22:10:57 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2090)
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 16425)
Completed 200 OK in 69ms (Views: 41.0ms | ActiveRecord: 3.9ms | Allocations: 26039)


  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" ORDER BY "flights"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
Started GET "/" for ::1 at 2024-02-23 22:13:07 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1804)
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | Allocations: 15955)
Completed 200 OK in 61ms (Views: 31.4ms | ActiveRecord: 6.8ms | Allocations: 25519)


Started GET "/" for ::1 at 2024-02-23 22:14:43 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1139)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1239)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 3.1ms | Allocations: 10808)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check   <%= form_with model: @flights do |f| %>
    <%= f.select(:departure_airport, @departure_options) "Departure" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  <% end %>



):
1:      <%= form_with model: @flights do |f| %>
2:        <%= f.select(:departure_airport, @departure_options) "Departure" %>
3:        <%= f.select(:arrival_airport, @arrival_options) %>
4:      <% end %>
  
app/views/flights/index.html.erb:2: syntax error, unexpected string literal, expecting ')'
Started GET "/" for ::1 at 2024-02-23 22:15:27 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1856)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 16189)
Completed 200 OK in 68ms (Views: 27.8ms | ActiveRecord: 4.3ms | Allocations: 25804)


Started GET "/" for ::1 at 2024-02-23 22:16:00 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1866)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 16201)
Completed 200 OK in 53ms (Views: 22.6ms | ActiveRecord: 3.2ms | Allocations: 25765)


Started GET "/" for ::1 at 2024-02-23 22:16:20 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1918)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 16279)
Completed 200 OK in 67ms (Views: 31.8ms | ActiveRecord: 5.7ms | Allocations: 25833)


Started GET "/" for ::1 at 2024-02-23 22:16:33 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1858)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 16084)
Completed 200 OK in 65ms (Views: 34.5ms | ActiveRecord: 5.8ms | Allocations: 25645)


Started GET "/" for ::1 at 2024-02-23 22:16:43 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1927)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 16196)
Completed 200 OK in 71ms (Views: 35.0ms | ActiveRecord: 5.1ms | Allocations: 25798)


Started GET "/" for ::1 at 2024-02-23 22:17:48 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2070)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 16404)
Completed 200 OK in 52ms (Views: 24.8ms | ActiveRecord: 3.4ms | Allocations: 25969)


Started GET "/" for ::1 at 2024-02-23 22:22:53 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights"."start_datetime" FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:19
  Rendered flights/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3251)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 17649)
Completed 200 OK in 67ms (Views: 41.6ms | ActiveRecord: 3.0ms | Allocations: 27266)


Started GET "/" for ::1 at 2024-02-23 22:23:44 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2349)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 16597)
Completed 200 OK in 68ms (Views: 33.2ms | ActiveRecord: 5.4ms | Allocations: 26999)


Started GET "/" for ::1 at 2024-02-23 22:26:53 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2696)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2788)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 3.4ms | Allocations: 13163)


  
ActionView::Template::Error (no implicit conversion of Symbol into Hash):
    16:   <br/>
    17:   <div>
    18:     <%= label_tag :start_datetime, "Passengers" %>
    19:     <%= f.select(:start_datetime, @start_datetimes, :flight_start_datetime_formatted) %>
    20:   </div>
    21: <% end %>
  
app/views/flights/index.html.erb:19
app/views/flights/index.html.erb:1
Started GET "/" for ::1 at 2024-02-23 22:28:38 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 4.2ms | Allocations: 9770)


  
NoMethodError (undefined method `strftime' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:31:39 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2342)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 16676)
Completed 200 OK in 69ms (Views: 36.7ms | ActiveRecord: 4.5ms | Allocations: 27083)


Started GET "/" for ::1 at 2024-02-23 22:32:09 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 4.4ms | Allocations: 9774)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/flights_controller.rb:8:in `to_s'
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:32:28 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 7.2ms | Allocations: 9769)


  
NoMethodError (undefined method `to_formatted_s' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:33:26 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 4.5ms | Allocations: 9769)


  
NoMethodError (undefined method `to_fs' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:33:45 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2228)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | Allocations: 16561)
Completed 200 OK in 63ms (Views: 31.1ms | ActiveRecord: 3.9ms | Allocations: 26962)


Started GET "/" for ::1 at 2024-02-23 22:34:01 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2145)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 16295)
Completed 200 OK in 54ms (Views: 28.3ms | ActiveRecord: 2.9ms | Allocations: 26606)


Started GET "/" for ::1 at 2024-02-23 22:34:18 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 4.0ms | Allocations: 9737)


  
NoMethodError (undefined method `to_fs' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:34:26 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.1ms | Allocations: 9822)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/flights_controller.rb:8:in `to_s'
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:34:47 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.8ms | Allocations: 9768)


  
NoMethodError (undefined method `to_fs' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:34:52 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2398)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 16731)
Completed 200 OK in 62ms (Views: 29.2ms | ActiveRecord: 5.8ms | Allocations: 27203)


Started GET "/" for ::1 at 2024-02-23 22:35:00 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 7.8ms | Allocations: 9771)


  
NoMethodError (undefined method `to_t' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:35:12 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 5.0ms | Allocations: 9826)


  
NoMethodError (undefined method `to_fs' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:35:23 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.4ms | Allocations: 9773)


  
NoMethodError (undefined method `to_fs' for (2024/1):Rational):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:35:29 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 3.8ms | Allocations: 9826)


  
NoMethodError (undefined method `to_fs' for "2024-03-11 17:21:13 +0300":String):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" ORDER BY "flights"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" ORDER BY "flights"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" ORDER BY "flights"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2024-02-23 22:37:35 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 3.1ms | Allocations: 9767)


  
NameError (uninitialized constant FlightsController::Dae):
  
app/controllers/flights_controller.rb:8:in `block in index'
app/controllers/flights_controller.rb:8:in `map'
app/controllers/flights_controller.rb:8:in `index'
Started GET "/" for ::1 at 2024-02-23 22:37:42 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2414)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 16747)
Completed 200 OK in 67ms (Views: 33.5ms | ActiveRecord: 3.5ms | Allocations: 27722)


Started GET "/" for ::1 at 2024-02-23 22:46:40 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 5204)
  Rendered layout layouts/application.html.erb (Duration: 142.4ms | Allocations: 36443)
Completed 200 OK in 530ms (Views: 152.5ms | ActiveRecord: 4.6ms | Allocations: 344770)


Started POST "/flights" for ::1 at 2024-02-23 22:46:46 +0300
Processing by FlightsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 802)


  
NameError (undefined local variable or method `flight' for #<FlightsController:0x0000000000b1f8>):
  
app/controllers/flights_controller.rb:16:in `create'
Started GET "/" for ::1 at 2024-02-23 22:47:04 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2275)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 16807)
Completed 200 OK in 102ms (Views: 52.5ms | ActiveRecord: 3.4ms | Allocations: 27768)


Started GET "/" for ::1 at 2024-02-23 22:47:17 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1309)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 1409)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.7ms | Allocations: 12322)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with model: @flight, method: "get" do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Passengers" %>
    <%= f.select(:passengers, (1..4)) %>
  </div>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.select(:start_datetime, @start_datetimes) %>
  </div>
  <br/>
  <%= f.submit, "Serach" %>
<% end %>



):
1:    <%= form_with model: @flight, method: "get" do |f| %>
2:      <div>
3:        <%= label_tag :departure_airport, "Departure" %>
4:        <%= f.select(:departure_airport, @departure_options)%>
5:      </div>
6:      <br/>
7:      <div>
8:        <%= label_tag :arrival_airport, "Arrival" %>
9:        <%= f.select(:arrival_airport, @arrival_options) %>
10:      </div>
11:      <br/>
12:      <div>
13:        <%= label_tag :arrival_airport, "Passengers" %>
14:        <%= f.select(:passengers, (1..4)) %>
15:      </div>
16:      <br/>
17:      <div>
18:        <%= label_tag :start_datetime, "Date" %>
19:        <%= f.select(:start_datetime, @start_datetimes) %>
20:      </div>
21:      <br/>
22:      <%= f.submit, "Serach" %>
23:    <% end %>
  
app/views/flights/index.html.erb:22: syntax error, unexpected ')', expecting '.' or &. or :: or '['
Started GET "/" for ::1 at 2024-02-23 22:47:40 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2276)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 16820)
Completed 200 OK in 80ms (Views: 39.4ms | ActiveRecord: 3.9ms | Allocations: 27769)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:47:42 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1196)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 2488)
Completed 200 OK in 13ms (Views: 5.8ms | ActiveRecord: 0.3ms | Allocations: 4577)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:48:12 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3029)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3121)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.1ms | Allocations: 14055)


  
ActionView::Template::Error (undefined method `search' for #<ActionView::Helpers::FormBuilder:0x00007fb579e516a0 @nested_child_index={}, @options={:allow_method_names_outside_object=>true, :skip_default_ids=>false, :method=>"get"}, @template=#<ActionView::Base:0x00000000019f78>, @object=#<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>, @object_name="flight", @default_options={:skip_default_ids=>false, :allow_method_names_outside_object=>true}, @default_html_options={}, @multipart=nil, @index=nil>):
    19:     <%= f.select(:start_datetime, @start_datetimes) %>
    20:   </div>
    21:   <br/>
    22:   <%= f.search %>
    23: <% end %>
  
app/views/flights/index.html.erb:22
app/views/flights/index.html.erb:1
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:49:07 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1280)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 1383)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 4.9ms | Allocations: 12363)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with model: @flight, url: flights_path method: "get" do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Passengers" %>
    <%= f.select(:passengers, (1..4)) %>
  </div>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.select(:start_datetime, @start_datetimes) %>
  </div>
  <br/>
  <%= f.submit %>
<% end %>



):
1:    <%= form_with model: @flight, url: flights_path method: "get" do |f| %>
2:      <div>
3:        <%= label_tag :departure_airport, "Departure" %>
4:        <%= f.select(:departure_airport, @departure_options)%>
5:      </div>
6:      <br/>
7:      <div>
8:        <%= label_tag :arrival_airport, "Arrival" %>
9:        <%= f.select(:arrival_airport, @arrival_options) %>
10:      </div>
11:      <br/>
12:      <div>
13:        <%= label_tag :arrival_airport, "Passengers" %>
14:        <%= f.select(:passengers, (1..4)) %>
15:      </div>
16:      <br/>
17:      <div>
18:        <%= label_tag :start_datetime, "Date" %>
19:        <%= f.select(:start_datetime, @start_datetimes) %>
20:      </div>
21:      <br/>
22:      <%= f.submit %>
23:    <% end %>
  
app/views/flights/index.html.erb:1: syntax error, unexpected label, expecting `do' or '{' or '('
app/views/flights/index.html.erb:28: syntax error, unexpected `end'
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:49:32 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2261)
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | Allocations: 16801)
Completed 200 OK in 100ms (Views: 44.2ms | ActiveRecord: 4.0ms | Allocations: 27759)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:49:35 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1190)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 2464)
Completed 200 OK in 21ms (Views: 11.5ms | ActiveRecord: 0.4ms | Allocations: 4538)


Started GET "/" for ::1 at 2024-02-23 22:49:36 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1190)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2485)
Completed 200 OK in 21ms (Views: 10.5ms | ActiveRecord: 0.5ms | Allocations: 4560)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:49:38 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1190)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2470)
Completed 200 OK in 15ms (Views: 7.2ms | ActiveRecord: 0.4ms | Allocations: 4545)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Create+Flight" for ::1 at 2024-02-23 22:50:45 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Create Flight"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2113)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 16646)
Completed 200 OK in 70ms (Views: 30.7ms | ActiveRecord: 5.7ms | Allocations: 27593)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 22:50:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1115)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2398)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 0.4ms | Allocations: 4474)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=6&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:01:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"6", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 75ms (ActiveRecord: 3.8ms | Allocations: 26187)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/flights_controller.rb:37:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:01:51 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 3.5ms | Allocations: 10428)


  
TypeError (no implicit conversion of ActionController::Parameters into String):
  
app/controllers/flights_controller.rb:37:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:02:46 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :passengers. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f59d00b2a80>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "March 11, 2024"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 109.5ms | Allocations: 33633)
Completed 200 OK in 166ms (Views: 112.4ms | ActiveRecord: 5.1ms | Allocations: 47361)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:02:49 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :passengers. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f59d01160f8>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "March 11, 2024"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1117)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2414)
Completed 200 OK in 15ms (Views: 8.1ms | ActiveRecord: 0.4ms | Allocations: 5187)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:03:17 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (1.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? AND "flights"."passengers" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "March 11, 2024"], ["passengers", "1"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 5.7ms | Allocations: 11928)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: flights.passengers):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:04:11 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (1.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? AND "flights"."passengers" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "March 11, 2024"], ["passengers", "1"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 6.3ms | Allocations: 11783)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: flights.passengers):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:04:53 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :passengers. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f59d01d7dc0>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  [1m[36mFlight Load (1.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "March 11, 2024"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1279)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1388)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 6.6ms | Allocations: 13458)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <div>
    <%=# label_tag :arrival_airport, "Passengers" %>
    <%=# f.select(:passengers, (1..4)) %>
  </div>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.select(:start_datetime, @start_datetimes) %>
  </div>
  <br/>
  <%= f.submit "Search" %>
<% end %>



):
1:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
2:      <div>
3:        <%= label_tag :departure_airport, "Departure" %>
4:        <%= f.select(:departure_airport, @departure_options)%>
5:      </div>
6:      <br/>
7:      <div>
8:        <%= label_tag :arrival_airport, "Arrival" %>
9:        <%= f.select(:arrival_airport, @arrival_options) %>
10:      </div>
11:      <br/>
12:      <div>
13:        <%=# label_tag :arrival_airport, "Passengers" %>
14:        <%=# f.select(:passengers, (1..4)) %>
15:      </div>
16:      <br/>
17:      <div>
18:        <%= label_tag :start_datetime, "Date" %>
19:        <%= f.select(:start_datetime, @start_datetimes) %>
20:      </div>
21:      <br/>
22:      <%= f.submit "Search" %>
23:    <% end %>
  
app/views/flights/index.html.erb:15: syntax error, unexpected '<'
app/views/flights/index.html.erb:20: syntax error, unexpected '<'
app/views/flights/index.html.erb:28: unterminated string meets end of file
app/views/flights/index.html.erb:28: syntax error, unexpected end-of-input, expecting ')'
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bpassengers%5D=1&flight%5Bstart_datetime%5D=March+11%2C+2024&commit=Search" for ::1 at 2024-02-23 23:05:41 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :passengers. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f59d0051a50>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "passengers"=>"1", "start_datetime"=>"March 11, 2024"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "March 11, 2024"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1413)
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | Allocations: 15999)
Completed 200 OK in 90ms (Views: 50.3ms | ActiveRecord: 4.4ms | Allocations: 28101)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:05:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:11:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1042)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2329)
Completed 200 OK in 17ms (Views: 8.4ms | ActiveRecord: 0.5ms | Allocations: 5009)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:16:14 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1494)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 15711)
Completed 200 OK in 100ms (Views: 40.1ms | ActiveRecord: 2.9ms | Allocations: 27117)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:16:35 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1484)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 15828)
Completed 200 OK in 94ms (Views: 38.1ms | ActiveRecord: 5.2ms | Allocations: 28002)


  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/flights?flight%5Bdeparture_airport%5D=3&flight%5Barrival_airport%5D=9&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:18:06 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"3", "arrival_airport"=>"9", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 3], ["arrival_airport_id", 9], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1487)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 15831)
Completed 200 OK in 48ms (Views: 20.5ms | ActiveRecord: 3.4ms | Allocations: 28018)


  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=9&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:18:40 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"9", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 2], ["arrival_airport_id", 9], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1045)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2145)
Completed 200 OK in 13ms (Views: 6.1ms | ActiveRecord: 0.4ms | Allocations: 4990)


Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=9&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:19:24 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"9", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 2], ["arrival_airport_id", 9], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1042)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 2142)
Completed 200 OK in 13ms (Views: 4.5ms | ActiveRecord: 0.4ms | Allocations: 4971)


  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:20:32 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1043)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 2143)
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 0.6ms | Allocations: 4970)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:22:16 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2477)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 2569)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 5.6ms | Allocations: 14736)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    27: <% end %>
    28: 
    29: 
    30:   <% for flight in @flights %>
    31:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    32:     Departure: <%= flight.departure_airport.code %> 
    33:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:30
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:22:17 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2029)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 2120)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.2ms | Allocations: 4939)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    27: <% end %>
    28: 
    29: 
    30:   <% for flight in @flights %>
    31:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    32:     Departure: <%= flight.departure_airport.code %> 
    33:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:30
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:22:53 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2829)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 2921)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 4.3ms | Allocations: 15082)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    28: 
    29: 
    30: <% if !@flight.empty? %>
    31:   <% for flight in @flights %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:23:03 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2482)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 2574)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 4.5ms | Allocations: 14793)


  
ActionView::Template::Error (undefined method `empty?' for nil:NilClass):
    27: <% end %>
    28: 
    29: 
    30: <% if !@flights.empty? %>
    31:   <% for flight in @flights %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
  
app/views/flights/index.html.erb:30
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:23:13 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1583)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 15925)
Completed 200 OK in 95ms (Views: 37.4ms | ActiveRecord: 7.7ms | Allocations: 28166)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:23:20 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1045)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 2145)
Completed 200 OK in 17ms (Views: 7.2ms | ActiveRecord: 0.6ms | Allocations: 4976)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:23:40 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2484)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2576)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 5.3ms | Allocations: 14737)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    28: 
    29: 
    30: <% if @flight %>
    31:   <% for flight in @flights %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:24:04 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2816)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 2908)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 4.9ms | Allocations: 15124)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    28: 
    29: 
    30: <% if !@flight.empty? %>
    31:   <% for flight in @flights %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:24:13 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 6055)
  Rendered layout layouts/application.html.erb (Duration: 53.6ms | Allocations: 20397)
Completed 200 OK in 111ms (Views: 58.0ms | ActiveRecord: 4.5ms | Allocations: 32577)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:24:17 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2826)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 3926)
Completed 200 OK in 38ms (Views: 22.7ms | ActiveRecord: 1.0ms | Allocations: 6766)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:24:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 160.1ms | Allocations: 2823)
  Rendered layout layouts/application.html.erb (Duration: 174.7ms | Allocations: 3938)
Completed 200 OK in 206ms (Views: 175.8ms | ActiveRecord: 1.1ms | Allocations: 6773)


Started GET "/" for ::1 at 2024-02-23 23:24:25 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 7ms (ActiveRecord: 0.5ms | Allocations: 2350)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:42:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:24:25 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 9ms (ActiveRecord: 0.9ms | Allocations: 2329)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:42:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:25:38 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 46ms (ActiveRecord: 8.8ms | Allocations: 10361)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:44:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:25:51 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 45ms (ActiveRecord: 6.6ms | Allocations: 10418)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:44:in `flight_search_params'
app/controllers/flights_controller.rb:11:in `index'
Started GET "/" for ::1 at 2024-02-23 23:26:03 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 38ms (ActiveRecord: 3.9ms | Allocations: 10420)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:44:in `flight_search_params'
app/controllers/flights_controller.rb:11:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:26:07 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:14:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 32.1ms | Allocations: 4968)
  Rendered layout layouts/application.html.erb (Duration: 70.6ms | Allocations: 19311)
Completed 200 OK in 112ms (Views: 81.5ms | ActiveRecord: 2.1ms | Allocations: 23425)


Started GET "/" for ::1 at 2024-02-23 23:26:10 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 10ms (ActiveRecord: 0.5ms | Allocations: 2332)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:44:in `flight_search_params'
app/controllers/flights_controller.rb:11:in `index'
Started GET "/" for ::1 at 2024-02-23 23:26:11 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 9ms (ActiveRecord: 0.8ms | Allocations: 2330)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:44:in `flight_search_params'
app/controllers/flights_controller.rb:11:in `index'
Started GET "/" for ::1 at 2024-02-23 23:27:01 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 5.8ms | Allocations: 10359)


  
NoMethodError (undefined method `flight' for #<ActionController::Parameters {"controller"=>"flights", "action"=>"index"} permitted: false>):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:27:11 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.2ms | Allocations: 10416)


  
NoMethodError (undefined method `flights' for #<ActionController::Parameters {"controller"=>"flights", "action"=>"index"} permitted: false>):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:27:27 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 6.3ms | Allocations: 10415)


  
NoMethodError (undefined method `flight' for #<ActionController::Parameters {"controller"=>"flights", "action"=>"index"} permitted: false>):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:27:37 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 3.9ms | Allocations: 10352)


  
NoMethodError (undefined method `empty?' for nil:NilClass):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:27:44 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 61ms (ActiveRecord: 6.8ms | Allocations: 10418)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:44:in `flight_search_params'
app/controllers/flights_controller.rb:11:in `index'
Started GET "/" for ::1 at 2024-02-23 23:27:54 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 4.6ms | Allocations: 10525)


  
NoMethodError (undefined method `empty?' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
  
app/controllers/flights_controller.rb:14:in `index'
Started GET "/" for ::1 at 2024-02-23 23:28:21 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.8ms | Allocations: 10426)


  
NoMethodError (undefined method `empty?' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
  
app/controllers/flights_controller.rb:14:in `index'
Started GET "/" for ::1 at 2024-02-23 23:28:46 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 5.0ms | Allocations: 10402)


  
NoMethodError (undefined method `empty?' for nil:NilClass):
  
app/controllers/flights_controller.rb:14:in `index'
Started GET "/" for ::1 at 2024-02-23 23:29:17 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3660)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3752)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 3.7ms | Allocations: 14902)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    28: 
    29: 
    30: <% if !@flight %>
    31:   <% for flight in @flight %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/" for ::1 at 2024-02-23 23:29:29 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 2866)
  Rendered layout layouts/application.html.erb (Duration: 41.1ms | Allocations: 17208)
Completed 200 OK in 112ms (Views: 52.0ms | ActiveRecord: 5.2ms | Allocations: 28374)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:29:36 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3480)
Completed 200 OK in 19ms (Views: 11.1ms | ActiveRecord: 0.3ms | Allocations: 5783)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:29:40 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3480)
Completed 200 OK in 19ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 5753)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:29:41 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3480)
Completed 200 OK in 22ms (Views: 10.3ms | ActiveRecord: 0.6ms | Allocations: 5762)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:30:33 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2812)
  Rendered layout layouts/application.html.erb (Duration: 45.0ms | Allocations: 17154)
Completed 200 OK in 117ms (Views: 47.9ms | ActiveRecord: 7.0ms | Allocations: 28257)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:30:50 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2865)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 17025)
Completed 200 OK in 81ms (Views: 35.4ms | ActiveRecord: 4.3ms | Allocations: 28092)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:31:23 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2808)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 16968)
Completed 200 OK in 81ms (Views: 35.3ms | ActiveRecord: 4.0ms | Allocations: 28046)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:31:54 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2381)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3496)
Completed 200 OK in 14ms (Views: 7.3ms | ActiveRecord: 0.3ms | Allocations: 5777)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:32:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 2813)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 17155)
Completed 200 OK in 108ms (Views: 54.2ms | ActiveRecord: 4.7ms | Allocations: 28311)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:32:21 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 3480)
Completed 200 OK in 20ms (Views: 12.7ms | ActiveRecord: 0.3ms | Allocations: 5758)


Started GET "/" for ::1 at 2024-02-23 23:32:23 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3480)
Completed 200 OK in 22ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 5754)


Started GET "/" for ::1 at 2024-02-23 23:32:54 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3480)
Completed 200 OK in 27ms (Views: 15.3ms | ActiveRecord: 0.4ms | Allocations: 5760)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:33:06 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3480)
Completed 200 OK in 15ms (Views: 8.0ms | ActiveRecord: 0.4ms | Allocations: 5795)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:33:46 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2808)
  Rendered layout layouts/application.html.erb (Duration: 55.1ms | Allocations: 16970)
Completed 200 OK in 105ms (Views: 61.1ms | ActiveRecord: 4.7ms | Allocations: 28039)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:33:57 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2382)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3497)
Completed 200 OK in 16ms (Views: 10.9ms | ActiveRecord: 0.4ms | Allocations: 5797)


Started GET "/" for ::1 at 2024-02-23 23:36:09 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:17:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 89.2ms | Allocations: 23348)
  Rendered layout layouts/application.html.erb (Duration: 112.0ms | Allocations: 37690)
Completed 200 OK in 151ms (Views: 111.9ms | ActiveRecord: 6.1ms | Allocations: 50360)


Started GET "/" for ::1 at 2024-02-23 23:36:17 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:17:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 127.3ms | Allocations: 20693)
  Rendered layout layouts/application.html.erb (Duration: 132.8ms | Allocations: 21793)
Completed 200 OK in 156ms (Views: 129.9ms | ActiveRecord: 4.6ms | Allocations: 25426)


Started GET "/" for ::1 at 2024-02-23 23:36:19 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for inspect */ LIMIT ?[0m  [["LIMIT", 11]]
  ↳ app/controllers/flights_controller.rb:17:in `p'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 166.7ms | Allocations: 20690)
  Rendered layout layouts/application.html.erb (Duration: 171.8ms | Allocations: 21805)
Completed 200 OK in 188ms (Views: 169.5ms | ActiveRecord: 4.7ms | Allocations: 25423)


Started GET "/" for ::1 at 2024-02-23 23:36:48 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2813)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 17156)
Completed 200 OK in 83ms (Views: 29.9ms | ActiveRecord: 7.4ms | Allocations: 28310)


Started GET "/" for ::1 at 2024-02-23 23:36:50 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3481)
Completed 200 OK in 18ms (Views: 9.9ms | ActiveRecord: 0.3ms | Allocations: 5768)


Started GET "/" for ::1 at 2024-02-23 23:36:50 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3480)
Completed 200 OK in 17ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 5755)


Started GET "/" for ::1 at 2024-02-23 23:36:50 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2378)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3478)
Completed 200 OK in 23ms (Views: 10.0ms | ActiveRecord: 0.4ms | Allocations: 5776)


Started GET "/" for ::1 at 2024-02-23 23:37:49 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3004)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 17163)
Completed 200 OK in 86ms (Views: 46.6ms | ActiveRecord: 5.7ms | Allocations: 28012)


Started GET "/" for ::1 at 2024-02-23 23:37:50 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2561)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3676)
Completed 200 OK in 17ms (Views: 9.4ms | ActiveRecord: 0.6ms | Allocations: 5758)


Started GET "/" for ::1 at 2024-02-23 23:37:51 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2560)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3660)
Completed 200 OK in 27ms (Views: 16.4ms | ActiveRecord: 0.5ms | Allocations: 5737)


Started GET "/" for ::1 at 2024-02-23 23:37:51 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2557)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 3657)
Completed 200 OK in 27ms (Views: 15.9ms | ActiveRecord: 0.3ms | Allocations: 5734)


Started GET "/" for ::1 at 2024-02-23 23:37:51 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2564)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3678)
Completed 200 OK in 30ms (Views: 14.3ms | ActiveRecord: 0.6ms | Allocations: 5755)


Started GET "/flights?departure_airport=9&arrival_airport=2&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:37:57 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2557)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3657)
Completed 200 OK in 17ms (Views: 9.9ms | ActiveRecord: 0.4ms | Allocations: 5736)


Started GET "/" for ::1 at 2024-02-23 23:38:32 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 2986)
  Rendered layout layouts/application.html.erb (Duration: 69.4ms | Allocations: 17315)
Completed 200 OK in 127ms (Views: 84.3ms | ActiveRecord: 5.1ms | Allocations: 28269)


Started GET "/" for ::1 at 2024-02-23 23:38:48 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2584)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3684)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 5777)


Started GET "/flights?departure_airport=1&arrival_airport=1&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:38:59 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2566)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3666)
Completed 200 OK in 18ms (Views: 10.4ms | ActiveRecord: 0.6ms | Allocations: 5757)


Started GET "/flights?departure_airport=1&arrival_airport=1&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:39:22 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 40ms (ActiveRecord: 4.1ms | Allocations: 10304)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:42:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?departure_airport=1&arrival_airport=1&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:40:27 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 114.5ms | Allocations: 23327)
  Rendered layout layouts/application.html.erb (Duration: 139.2ms | Allocations: 37669)
Completed 200 OK in 183ms (Views: 138.0ms | ActiveRecord: 7.3ms | Allocations: 49292)


Started GET "/flights?departure_airport=1&arrival_airport=1&start_datetime=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:40:29 +0300
Processing by FlightsController#index as HTML
  Parameters: {"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300", "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 114.6ms | Allocations: 20693)
  Rendered layout layouts/application.html.erb (Duration: 118.5ms | Allocations: 21793)
Completed 200 OK in 128ms (Views: 116.1ms | ActiveRecord: 4.3ms | Allocations: 24459)


Started GET "/" for ::1 at 2024-02-23 23:40:32 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (1.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (1.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 160.6ms | Allocations: 20690)
  Rendered layout layouts/application.html.erb (Duration: 164.7ms | Allocations: 21805)
Completed 200 OK in 176ms (Views: 160.5ms | ActiveRecord: 5.5ms | Allocations: 24484)


Started GET "/" for ::1 at 2024-02-23 23:40:33 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 170.6ms | Allocations: 20690)
  Rendered layout layouts/application.html.erb (Duration: 176.4ms | Allocations: 21792)
Completed 200 OK in 191ms (Views: 174.9ms | ActiveRecord: 5.3ms | Allocations: 24471)


Started GET "/" for ::1 at 2024-02-23 23:40:34 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/flights_controller.rb:12:in `index'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 135.0ms | Allocations: 20690)
  Rendered layout layouts/application.html.erb (Duration: 143.5ms | Allocations: 21790)
Completed 200 OK in 157ms (Views: 141.9ms | ActiveRecord: 4.4ms | Allocations: 24448)


Started GET "/" for ::1 at 2024-02-23 23:40:53 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 5.0ms | Allocations: 10504)


  
NoMethodError (undefined method `empty?' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/" for ::1 at 2024-02-23 23:41:13 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3086)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3178)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 6.1ms | Allocations: 14324)


  
ActionView::Template::Error (undefined method `each' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    28: 
    29: 
    30: <% if @flight %>
    31:   <% for flight in @flight %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/" for ::1 at 2024-02-23 23:41:50 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 3.5ms | Allocations: 10426)


  
NoMethodError (undefined method `empty?' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/" for ::1 at 2024-02-23 23:42:27 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.9ms | Allocations: 10451)


  
NoMethodError (undefined method `empty?' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
  
app/controllers/flights_controller.rb:14:in `index'
Started GET "/" for ::1 at 2024-02-23 23:43:10 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1431)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1523)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 3.2ms | Allocations: 12671)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
     6:   <% end %>  
     7: </div>
     8: 
     9: <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
    10:   <div>
    11:     <%= label_tag :departure_airport, "Departure" %>
    12:     <%= f.select(:departure_airport, @departure_options)%>
  
app/views/flights/index.html.erb:9
Started GET "/" for ::1 at 2024-02-23 23:43:34 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3125)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3217)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 5.9ms | Allocations: 14359)


  
ActionView::Template::Error (undefined method `each' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    28: 
    29: 
    30: <% if @flight %>
    31:   <% for flight in @flight %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/" for ::1 at 2024-02-23 23:44:12 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3070)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3162)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 7.6ms | Allocations: 14308)


  
ActionView::Template::Error (undefined method `each' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    28: 
    29: 
    30: <% if @flight %>
    31:   <% for flight in @flight %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
    34:     Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  
app/views/flights/index.html.erb:31
Started GET "/" for ::1 at 2024-02-23 23:44:43 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2152)
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | Allocations: 16494)
Completed 200 OK in 79ms (Views: 38.3ms | ActiveRecord: 4.5ms | Allocations: 27660)


Started GET "/" for ::1 at 2024-02-23 23:44:45 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 2140)
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 0.2ms | Allocations: 4452)


Started GET "/" for ::1 at 2024-02-23 23:44:46 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 2140)
Completed 200 OK in 29ms (Views: 16.2ms | ActiveRecord: 0.4ms | Allocations: 4448)


Started GET "/" for ::1 at 2024-02-23 23:44:46 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 2140)
Completed 200 OK in 19ms (Views: 11.1ms | ActiveRecord: 0.5ms | Allocations: 4457)


Started GET "/" for ::1 at 2024-02-23 23:44:46 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2140)
Completed 200 OK in 14ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 4448)


Started GET "/" for ::1 at 2024-02-23 23:44:47 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 2140)
Completed 200 OK in 19ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 4451)


Started GET "/" for ::1 at 2024-02-23 23:44:47 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2140)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.3ms | Allocations: 4448)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:44:54 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2396)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:45:31 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2147)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 16560)
Completed 200 OK in 94ms (Views: 51.8ms | ActiveRecord: 3.5ms | Allocations: 27720)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:45:37 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms | Allocations: 2389)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-23 23:45:56 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2205)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 16550)
Completed 200 OK in 84ms (Views: 40.6ms | ActiveRecord: 4.4ms | Allocations: 27735)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:46:05 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2155)
Completed 200 OK in 20ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4625)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:47:01 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 11]]
Completed 500 Internal Server Error in 40ms (ActiveRecord: 3.6ms | Allocations: 11820)


  [1m[36mCACHE Flight Load (0.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 11]]
  
NoMethodError (undefined method `id' for #<ActiveRecord::Relation [#<Flight id: 1, start_datetime: "2024-03-11 17:21:13 +0300", duration: "17 hours 6 minutes", created_at: "2024-02-23 18:49:06.574144000 +0000", updated_at: "2024-02-23 18:49:06.574144000 +0000", arrival_airport_id: 2, departure_airport_id: 9>]>):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:47:10 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? /* loading for inspect */ LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 11]]
  Rendered flights/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3813)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 3905)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 3.9ms | Allocations: 15672)


  
ActionView::Template::Error (undefined method `id' for #<ActiveRecord::Relation [#<Flight id: 1, start_datetime: "2024-03-11 17:21:13 +0300", duration: "17 hours 6 minutes", created_at: "2024-02-23 18:49:06.574144000 +0000", updated_at: "2024-02-23 18:49:06.574144000 +0000", arrival_airport_id: 2, departure_airport_id: 9>]>):
    27: <% end %>
    28: 
    29: 
    30: <% if @flight.id %>
    31:   <% for flight in @flight %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
  
app/views/flights/index.html.erb:30
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:48:00 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 17.5ms | Allocations: 5104)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 19447)
Completed 200 OK in 91ms (Views: 40.7ms | ActiveRecord: 5.1ms | Allocations: 31177)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:48:04 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 2888)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 3988)
Completed 200 OK in 32ms (Views: 20.9ms | ActiveRecord: 1.1ms | Allocations: 6446)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:48:05 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 2882)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 3982)
Completed 200 OK in 29ms (Views: 18.3ms | ActiveRecord: 1.4ms | Allocations: 6425)


Started GET "/" for ::1 at 2024-02-23 23:48:07 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1030)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 1122)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms | Allocations: 3410)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
     6:   <% end %>  
     7: </div>
     8: 
     9: <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
    10:   <div>
    11:     <%= label_tag :departure_airport, "Departure" %>
    12:     <%= f.select(:departure_airport, @departure_options)%>
  
app/views/flights/index.html.erb:9
Started GET "/" for ::1 at 2024-02-23 23:48:08 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1027)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 1118)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms | Allocations: 3399)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
     6:   <% end %>  
     7: </div>
     8: 
     9: <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
    10:   <div>
    11:     <%= label_tag :departure_airport, "Departure" %>
    12:     <%= f.select(:departure_airport, @departure_options)%>
  
app/views/flights/index.html.erb:9
Started GET "/" for ::1 at 2024-02-23 23:48:28 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3127)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3219)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 3.2ms | Allocations: 14373)


  
ActionView::Template::Error (undefined method `empty?' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    27: <% end %>
    28: 
    29: 
    30: <% if !@flight.empty? %>
    31:   <% for flight in @flight %>
    32:     <p>Arrival: <%= flight.arrival_airport.code %> - 
    33:     Departure: <%= flight.departure_airport.code %> 
  
app/views/flights/index.html.erb:30
Started GET "/" for ::1 at 2024-02-23 23:48:38 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2147)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 16489)
Completed 200 OK in 79ms (Views: 40.3ms | ActiveRecord: 4.2ms | Allocations: 27661)


Started GET "/" for ::1 at 2024-02-23 23:48:40 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2140)
Completed 200 OK in 18ms (Views: 8.5ms | ActiveRecord: 0.6ms | Allocations: 4439)


Started GET "/" for ::1 at 2024-02-23 23:48:41 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 2140)
Completed 200 OK in 20ms (Views: 10.1ms | ActiveRecord: 0.5ms | Allocations: 4441)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:48:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 4626)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 5741)
Completed 200 OK in 29ms (Views: 21.5ms | ActiveRecord: 1.1ms | Allocations: 8209)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:50:17 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1379)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 1471)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 3.1ms | Allocations: 13123)


  
ActionView::Template::Error (undefined local variable or method `flight' for #<ActionView::Base:0x000000000eacb8>):
    1: <div>
    2:   
    3:   <% if flight %>
    4:       <% flash.each do |type, msg| %>
    5:     <div>
    6:       <%= msg %>
  
app/views/flights/index.html.erb:3
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:50:24 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:35
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:38
  Rendered flights/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 5089)
  Rendered layout layouts/application.html.erb (Duration: 67.7ms | Allocations: 19431)
Completed 200 OK in 125ms (Views: 70.2ms | ActiveRecord: 8.7ms | Allocations: 31216)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:50:26 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:35
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:38
  Rendered flights/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 2883)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 3983)
Completed 200 OK in 31ms (Views: 22.9ms | ActiveRecord: 1.0ms | Allocations: 6428)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:50:26 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:35
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:38
  Rendered flights/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 2880)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 3980)
Completed 200 OK in 24ms (Views: 17.6ms | ActiveRecord: 0.9ms | Allocations: 6434)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:50:27 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:35
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:38
  Rendered flights/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 2880)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 3980)
Completed 200 OK in 40ms (Views: 24.1ms | ActiveRecord: 1.9ms | Allocations: 6425)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:50:27 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:35
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:38
  Rendered flights/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 2880)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 3980)
Completed 200 OK in 37ms (Views: 22.2ms | ActiveRecord: 1.3ms | Allocations: 6416)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:51:25 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 5061)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 19220)
Completed 200 OK in 98ms (Views: 49.6ms | ActiveRecord: 5.2ms | Allocations: 30903)


Started GET "/" for ::1 at 2024-02-23 23:51:27 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2140)
Completed 200 OK in 23ms (Views: 13.0ms | ActiveRecord: 0.5ms | Allocations: 4479)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-23 23:51:44 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 2884)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 3984)
Completed 200 OK in 26ms (Views: 17.2ms | ActiveRecord: 1.1ms | Allocations: 6462)


  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."arrival_airport_id" = ? AND "flights"."departure_airport_id" = ? /* loading for pp */ LIMIT ?[0m  [["arrival_airport_id", nil], ["departure_airport_id", nil], ["LIMIT", 11]]
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."arrival_airport_id" = ? AND "flights"."departure_airport_id" = ? /* loading for pp */ LIMIT ?[0m  [["arrival_airport_id", nil], ["departure_airport_id", nil], ["LIMIT", 11]]
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."arrival_airport_id" = ? AND "flights"."departure_airport_id" = ? /* loading for pp */ LIMIT ?[0m  [["arrival_airport_id", nil], ["departure_airport_id", nil], ["LIMIT", 11]]
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id 'departure_airport_id ?DXB'LAX) /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (2.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id 'departure_airport_id ? DXB' LAX) /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = 'departure_airport_id = ?DXB'LAX) /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (1.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = 'LAX' AND departure_airport_id = 'DXB') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (1.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = 'LAX' AND departure_airport_id = 'DXB') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = 'LAX') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = 'LAX' AND departure_airport_id = 'DXB') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-06 11:26:34 +0300"], ["duration", "15 hours 12 minutes"], ["created_at", "2024-02-24 06:33:17.175511"], ["updated_at", "2024-02-24 06:33:17.175511"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.2ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-06 21:29:26 +0300"], ["duration", "19 hours 21 minutes"], ["created_at", "2024-02-24 06:33:17.184013"], ["updated_at", "2024-02-24 06:33:17.184013"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-06 08:29:30 +0300"], ["duration", "12 hours 36 minutes"], ["created_at", "2024-02-24 06:33:17.190467"], ["updated_at", "2024-02-24 06:33:17.190467"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-20 20:33:41 +0300"], ["duration", "12 hours 22 minutes"], ["created_at", "2024-02-24 06:33:17.197938"], ["updated_at", "2024-02-24 06:33:17.197938"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (3.1ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-28 10:12:22 +0300"], ["duration", "12 hours 32 minutes"], ["created_at", "2024-02-24 06:33:17.206728"], ["updated_at", "2024-02-24 06:33:17.206728"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-02-27 01:07:08 +0300"], ["duration", "18 hours 42 minutes"], ["created_at", "2024-02-24 06:33:17.218468"], ["updated_at", "2024-02-24 06:33:17.218468"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2024-02-24 09:33:38 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3467)
  Rendered layout layouts/application.html.erb (Duration: 138.1ms | Allocations: 35168)
Completed 200 OK in 870ms (Views: 151.2ms | ActiveRecord: 3.6ms | Allocations: 344162)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:33:57 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 6354)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 7454)
Completed 200 OK in 57ms (Views: 24.7ms | ActiveRecord: 2.1ms | Allocations: 11655)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-20+20%3A33%3A41+%2B0300&commit=Search" for ::1 at 2024-02-24 09:34:02 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-20 20:33:41 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-20 20:33:41 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1508)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 2608)
Completed 200 OK in 12ms (Views: 6.3ms | ActiveRecord: 0.4ms | Allocations: 5416)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:34:09 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11 17:21:13 +0300"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 2953)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 4053)
Completed 200 OK in 33ms (Views: 22.1ms | ActiveRecord: 1.0ms | Allocations: 6832)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06+11%3A26%3A34+%2B0300&commit=Search" for ::1 at 2024-02-24 09:46:08 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 11:26:34 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" IS NULL AND "flights"."arrival_airport_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2080)
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 16423)
Completed 200 OK in 71ms (Views: 37.3ms | ActiveRecord: 3.5ms | Allocations: 27676)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:46:40 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" IS NULL AND "flights"."arrival_airport_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2071)
  Rendered layout layouts/application.html.erb (Duration: 43.1ms | Allocations: 16472)
Completed 200 OK in 82ms (Views: 45.7ms | ActiveRecord: 4.7ms | Allocations: 28454)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:47:39 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 3.5ms | Allocations: 10687)


  
NoMethodError (undefined method `departure_airport_id' for :flight:Symbol):
  
app/controllers/flights_controller.rb:26:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:49:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 7.8ms | Allocations: 10691)


  
NoMethodError (undefined method `departure_airport' for #<ActionController::Parameters {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"} permitted: false>):
  
app/controllers/flights_controller.rb:26:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:49:55 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 4.7ms | Allocations: 10666)


  
NoMethodError (undefined method `departure_airport' for :flight:Symbol):
  
app/controllers/flights_controller.rb:26:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:50:09 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 4.6ms | Allocations: 10724)


  
NoMethodError (undefined method `arrival_airport' for :flight:Symbol):
  
app/controllers/flights_controller.rb:26:in `flight_search_params'
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:50:35 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" IS NULL AND "flights"."arrival_airport_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2075)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 16417)
Completed 200 OK in 77ms (Views: 39.2ms | ActiveRecord: 3.3ms | Allocations: 28455)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:50:40 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" IS NULL AND "flights"."arrival_airport_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1482)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 2582)
Completed 200 OK in 18ms (Views: 9.5ms | ActiveRecord: 0.6ms | Allocations: 5371)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:52:08 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 4.1ms | Allocations: 10723)


  
ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:52:28 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2098)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 16441)
Completed 200 OK in 85ms (Views: 36.6ms | ActiveRecord: 5.1ms | Allocations: 28584)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:52:32 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["start_datetime", "2024-03-11 17:21:13 +0300"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 1507)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 2607)
Completed 200 OK in 53ms (Views: 26.7ms | ActiveRecord: 1.7ms | Allocations: 5417)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11+17%3A21%3A13+%2B0300&commit=Search" for ::1 at 2024-02-24 09:53:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bac0dac8>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bac0dac8>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11 17:21:13 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2089)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 16434)
Completed 200 OK in 80ms (Views: 34.2ms | ActiveRecord: 4.1ms | Allocations: 28618)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06+21%3A29%3A26+%2B0300&commit=Search" for ::1 at 2024-02-24 09:53:32 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bb02c320>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bb02c320>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 44.2ms | Allocations: 10161)
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 11261)
Completed 200 OK in 74ms (Views: 47.5ms | ActiveRecord: 2.5ms | Allocations: 14240)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06+21%3A29%3A26+%2B0300&commit=Search" for ::1 at 2024-02-24 09:58:21 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bb34e940>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bb34e940>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1432)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 1541)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.7ms | Allocations: 13830)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= form.date_field :start_datetime %>
    <%= #label_tag :start_datetime, "Date" %>
    <%= #f.select(:start_datetime, @start_datetimes) %>
  </div>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= form.date_field :start_datetime %>
24:        <%= #label_tag :start_datetime, "Date" %>
25:        <%= #f.select(:start_datetime, @start_datetimes) %>
26:      </div>
27:      <br/>
28:      <%= f.submit "Search" %>
29:    <% end %>
30:    
31:    
32:    <% if !@flights.empty? %>
33:      <% for flight in @flights %>
34:        <p>Arrival: <%= flight.arrival_airport.code %> - 
35:        Departure: <%= flight.departure_airport.code %> 
36:        Date: <%= Date.parse(flight.start_datetime).to_fs(:long) %></p>
37:      <% end %>
38:    <% end %>
  
app/views/flights/index.html.erb:26: syntax error, unexpected '<'
app/views/flights/index.html.erb:34: syntax error, unexpected ':', expecting ')'
app/views/flights/index.html.erb:36: syntax error, unexpected constant, expecting ')'
app/views/flights/index.html.erb:41: unterminated regexp meets end of file
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06+21%3A29%3A26+%2B0300&commit=Search" for ::1 at 2024-02-24 09:58:33 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16ba917bc0>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16ba917bc0>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2158)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 2250)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 4.2ms | Allocations: 14540)


  
ActionView::Template::Error (undefined local variable or method `form' for #<ActionView::Base:0x000000000381d0>):
    20:   <br/>
    21:   <div>
    22:     <%= label_tag :start_datetime, "Date" %>
    23:     <%= form.date_field :start_datetime %>
    24:   </div>
    25:   <br/>
    26:   <%= f.submit "Search" %>
  
app/views/flights/index.html.erb:23
app/views/flights/index.html.erb:9
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06+21%3A29%3A26+%2B0300&commit=Search" for ::1 at 2024-02-24 09:58:59 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16ba8e3f28>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16ba8e3f28>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06 21:29:26 +0300"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 62.5ms | Allocations: 10907)
  Rendered layout layouts/application.html.erb (Duration: 91.2ms | Allocations: 25249)
Completed 200 OK in 130ms (Views: 92.3ms | ActiveRecord: 6.0ms | Allocations: 37498)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 09:59:07 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bb1ca3d0>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16bb1ca3d0>, params: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? LIMIT ?[0m  [["departure_airport_id", 1], ["arrival_airport_id", 1], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2273)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 0.7ms | Allocations: 5249)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 09:59:21 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16ec0787a8>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
[31mUnpermitted parameter: :start_datetime. Context: { controller: FlightsController, action: index, request: #<ActionDispatch::Request:0x00007f16ec0787a8>, params: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search", "controller"=>"flights", "action"=>"index"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 114.0ms | Allocations: 8150)
  Rendered layout layouts/application.html.erb (Duration: 117.5ms | Allocations: 9265)
Completed 200 OK in 131ms (Views: 117.8ms | ActiveRecord: 1.3ms | Allocations: 12242)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 09:59:33 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1774)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 16115)
Completed 200 OK in 79ms (Views: 34.5ms | ActiveRecord: 4.4ms | Allocations: 28154)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 09:59:44 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1181)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 2282)
Completed 200 OK in 50ms (Views: 20.1ms | ActiveRecord: 2.1ms | Allocations: 5085)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:02:45 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 3.7ms | Allocations: 11091)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:03:23 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 5.2ms | Allocations: 11147)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:03:48 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 5.6ms | Allocations: 11205)


  
NoMethodError (undefined method `arrival_airport' for nil:NilClass):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:04:12 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 5.2ms | Allocations: 11152)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/flights_controller.rb:12:in `[]'
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:04:36 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 3.7ms | Allocations: 11206)


  
NoMethodError (undefined method `arrival_airport' for :flight:Symbol):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:06:25 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 6.9ms | Allocations: 11148)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:12:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:06:52 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE "flights"."departure_airport_id" = ? AND "flights"."arrival_airport_id" = ? AND "flights"."start_datetime" = ? LIMIT ?[0m  [["departure_airport_id", 9], ["arrival_airport_id", 2], ["start_datetime", "2024-03-11"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1772)
  Rendered layout layouts/application.html.erb (Duration: 52.9ms | Allocations: 16116)
Completed 200 OK in 103ms (Views: 55.8ms | ActiveRecord: 6.7ms | Allocations: 28212)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:18:02 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 2.5ms | Allocations: 9914)


  
Date::Error (invalid date):
  
app/controllers/flights_controller.rb:14:in `parse'
app/controllers/flights_controller.rb:14:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:18:24 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 7.7ms | Allocations: 10746)


  
Date::Error (invalid date):
  
app/controllers/flights_controller.rb:14:in `parse'
app/controllers/flights_controller.rb:14:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:18:41 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 4.2ms | Allocations: 10687)


  
TypeError (no implicit conversion of Integer into String):
  
app/controllers/flights_controller.rb:15:in `+'
app/controllers/flights_controller.rb:15:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:19:09 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 5.0ms | Allocations: 10753)


  
TypeError (no implicit conversion of ActiveSupport::Duration into String):
  
app/controllers/flights_controller.rb:15:in `+'
app/controllers/flights_controller.rb:15:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:19:39 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 4.9ms | Allocations: 10704)


  
TypeError (no implicit conversion of ActiveSupport::Duration into String):
  
app/controllers/flights_controller.rb:15:in `+'
app/controllers/flights_controller.rb:15:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:23:25 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 3.9ms | Allocations: 10695)


  
NoMethodError (undefined method `midnight' for "2024-03-11":String):
  
app/controllers/flights_controller.rb:15:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:23:48 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.4ms | Allocations: 10777)


  
NoMethodError (undefined method `midnight' for "2024-03-11":String):
  
app/controllers/flights_controller.rb:17:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:23:53 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.0ms | Allocations: 2663)


  
NoMethodError (undefined method `midnight' for "2024-03-11":String):
  
app/controllers/flights_controller.rb:17:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:24:36 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 5398)
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 19740)
Completed 200 OK in 80ms (Views: 44.6ms | ActiveRecord: 6.9ms | Allocations: 31514)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:24:39 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 42.0ms | Allocations: 2675)
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 3790)
Completed 200 OK in 60ms (Views: 47.7ms | ActiveRecord: 2.5ms | Allocations: 6596)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:24:42 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '1' AND departure_airport_id = '1') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  Rendered flights/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1185)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 2299)
Completed 200 OK in 25ms (Views: 12.3ms | ActiveRecord: 1.0ms | Allocations: 5088)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:24:54 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2672)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 3772)
Completed 200 OK in 31ms (Views: 16.2ms | ActiveRecord: 1.5ms | Allocations: 6573)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-6&commit=Search" for ::1 at 2024-02-24 10:25:05 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-6"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 3595)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 4695)
Completed 200 OK in 35ms (Views: 22.7ms | ActiveRecord: 1.5ms | Allocations: 7483)


  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-6&commit=Search" for ::1 at 2024-02-24 10:26:53 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-6"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 6285)
  Rendered layout layouts/application.html.erb (Duration: 54.3ms | Allocations: 20628)
Completed 200 OK in 102ms (Views: 56.4ms | ActiveRecord: 6.5ms | Allocations: 32366)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-6&commit=Search" for ::1 at 2024-02-24 10:26:59 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-6"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 3598)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 4698)
Completed 200 OK in 42ms (Views: 29.2ms | ActiveRecord: 1.8ms | Allocations: 7494)


Started GET "/" for ::1 at 2024-02-24 10:27:02 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms | Allocations: 2581)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-24 10:27:03 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.7ms | Allocations: 2570)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:10:in `index'
Started GET "/" for ::1 at 2024-02-24 10:27:15 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 3.1ms | Allocations: 10659)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:18:in `index'
Started GET "/" for ::1 at 2024-02-24 10:27:22 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 1955)
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 16298)
Completed 200 OK in 99ms (Views: 46.5ms | ActiveRecord: 5.2ms | Allocations: 27830)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-02-24 10:27:32 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-10 21:00:00"], ["start_datetime", "2024-03-11 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 4390)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 5490)
Completed 200 OK in 36ms (Views: 21.4ms | ActiveRecord: 1.6ms | Allocations: 8285)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:27:45 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-05 21:00:00"], ["start_datetime", "2024-03-06 21:00:00"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 3598)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 4698)
Completed 200 OK in 29ms (Views: 17.3ms | ActiveRecord: 1.4ms | Allocations: 7486)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:28:24 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 7214)
  Rendered layout layouts/application.html.erb (Duration: 45.8ms | Allocations: 21560)
Completed 200 OK in 86ms (Views: 48.5ms | ActiveRecord: 4.9ms | Allocations: 33298)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:35:01 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (4.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 7256)
  Rendered layout layouts/application.html.erb (Duration: 87.0ms | Allocations: 21599)
Completed 200 OK in 151ms (Views: 91.8ms | ActiveRecord: 8.8ms | Allocations: 32392)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:40:11 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 2791)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 2883)
Completed 500 Internal Server Error in 77ms (ActiveRecord: 9.2ms | Allocations: 14440)


  
ActionView::Template::Error (no implicit conversion of Symbol into Hash):
    22:     <%= label_tag :start_datetime, "Date" %>
    23:     <%= f.date_field :start_datetime %>
    24:   </div>
    25:     <%= f.collection_radio_buttons :flight_id, @flights.order(:start_datetime), :departure_airport, :arrival_airport, :start_datetime %>
    26:   <br/>
    27:   <%= f.submit "Search" %>
    28: <% end %>
  
app/views/flights/index.html.erb:25
app/views/flights/index.html.erb:9
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:41:42 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1422)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1528)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 6.0ms | Allocations: 13219)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime), :departure_airport, :arrival_airport, :start_datetime )%>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime), :departure_airport, :arrival_airport, :start_datetime )%>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected ',', expecting ')'
app/views/flights/index.html.erb:25: syntax error, unexpected ')', expecting `end' or dummy end
app/views/flights/index.html.erb:40: syntax error, unexpected `end'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:42:42 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1420)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 1526)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 7.8ms | Allocations: 13214)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime), :departure_airport, :arrival_airport, :start_datetime ) %>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime), :departure_airport, :arrival_airport, :start_datetime ) %>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected ',', expecting ')'
app/views/flights/index.html.erb:25: syntax error, unexpected ')', expecting `end' or dummy end
app/views/flights/index.html.erb:40: syntax error, unexpected `end'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:42:58 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1469)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 1572)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 4.9ms | Allocations: 13251)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime) :departure_airport :arrival_airport :start_datetime ) %>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime) :departure_airport :arrival_airport :start_datetime ) %>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected ',', expecting ')'
app/views/flights/index.html.erb:40: syntax error, unexpected `end'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:43:23 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1411)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 1514)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 5.2ms | Allocations: 13193)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime) ) %>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight_id, @flights.order(:start_datetime) ) %>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected ',', expecting ')'
app/views/flights/index.html.erb:40: syntax error, unexpected `end'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:43:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1460)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1560)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 7.4ms | Allocations: 13230)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight_id, @flights) %>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight_id, @flights) %>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected ',', expecting ')'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:44:04 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1402)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 1502)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 4.7ms | Allocations: 13175)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight_id @flights) %>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight_id @flights) %>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected instance variable, expecting ')'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 10:44:28 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1460)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1560)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 7.5ms | Allocations: 13230)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
    <%= f.collection_radio_buttons (:flight @flights) %>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:        <%= f.collection_radio_buttons (:flight @flights) %>
26:      <br/>
27:      <%= f.submit "Search" %>
28:    <% end %>
29:    
30:    
31:    <% if !@flights.empty? %>
32:      <% for flight in @flights %>
33:        <p>Arrival: <%= flight.arrival_airport.code %> - 
34:        Departure: <%= flight.departure_airport.code %> 
35:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
36:      <% end %>
37:    <% end %>
  
app/views/flights/index.html.erb:25: syntax error, unexpected instance variable, expecting ')'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:08:49 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (2.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1442)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 1542)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 4.3ms | Allocations: 12404)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>

  <%= form_with model: @flights do |f| %>
    <%= f.collection_radio_buttons :flight_id @flights, id, "#{departure_airport}-#{arrival_airport}" %>
  
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:      <br/>
21:      <div>
22:        <%= label_tag :start_datetime, "Date" %>
23:        <%= f.date_field :start_datetime %>
24:      </div>
25:      <br/>
26:      <%= f.submit "Search" %>
27:    <% end %>
28:    
29:    
30:    <% if !@flights.empty? %>
31:      <% for flight in @flights %>
32:        <p>Arrival: <%= flight.arrival_airport.code %> - 
33:        Departure: <%= flight.departure_airport.code %> 
34:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
35:      <% end %>
36:    
37:      <%= form_with model: @flights do |f| %>
38:        <%= f.collection_radio_buttons :flight_id @flights, id, "#{departure_airport}-#{arrival_airport}" %>
39:      
40:      <% end %>
41:    <% end %>
  
app/views/flights/index.html.erb:38: syntax error, unexpected instance variable, expecting ')'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:09:14 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 8558)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 8650)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 6.0ms | Allocations: 20295)


  
ActionView::Template::Error (undefined method `to_model' for #<ActiveRecord::Relation [#<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>, #<Flight id: 22, start_datetime: "2024-03-06 21:29:26 +0300", duration: "19 hours 21 minutes", created_at: "2024-02-24 06:33:17.184013000 +0000", updated_at: "2024-02-24 06:33:17.184013000 +0000", arrival_airport_id: 2, departure_airport_id: 9>, #<Flight id: 23, start_datetime: "2024-03-06 08:29:30 +0300", duration: "12 hours 36 minutes", created_at: "2024-02-24 06:33:17.190467000 +0000", updated_at: "2024-02-24 06:33:17.190467000 +0000", arrival_airport_id: 2, departure_airport_id: 9>]>):
    34:     Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
    35:   <% end %>
    36: 
    37:   <%= form_with model: @flights do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, id, "#{departure_airport}-#{arrival_airport}" %>
    39:   
    40:   <% end %>
  
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:10:36 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 8165)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 8257)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 6.3ms | Allocations: 19899)


  
ActionView::Template::Error (uninitialized constant #<Class:0x00007f16ba91faa0>::Flght):
    34:     Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
    35:   <% end %>
    36: 
    37:   <%= form_with model: Flght do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, id, "#{departure_airport}-#{arrival_airport}" %>
    39:   
    40:   <% end %>
  
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:10:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 8312)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 8404)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 6.0ms | Allocations: 20046)


  
ActionView::Template::Error (undefined local variable or method `id' for #<ActionView::Base:0x000000000c1048>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, id, "#{departure_airport}-#{arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:11:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 8236)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 8328)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 6.0ms | Allocations: 19970)


  
ActionView::Template::Error (undefined local variable or method `flight_id' for #<ActionView::Base:0x000000000c5418>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, flight_id, "#{departure_airport}-#{arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:11:54 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 32.0ms | Allocations: 8241)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 8333)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 5.5ms | Allocations: 19978)


  
ActionView::Template::Error (undefined local variable or method `departure_airport' for #<ActionView::Base:0x000000000c9810>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{departure_airport}-#{arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:12:11 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 55.6ms | Allocations: 9100)
  Rendered layout layouts/application.html.erb (Duration: 56.9ms | Allocations: 9192)
Completed 500 Internal Server Error in 102ms (ActiveRecord: 5.1ms | Allocations: 20834)


  
ActionView::Template::Error (undefined method `departure_airport-arrival_airport' for #<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:12:54 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (1.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 8430)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | Allocations: 8522)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 6.4ms | Allocations: 20168)


  
ActionView::Template::Error (undefined method `to_model' for #<ActiveRecord::Relation [#<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>, #<Flight id: 22, start_datetime: "2024-03-06 21:29:26 +0300", duration: "19 hours 21 minutes", created_at: "2024-02-24 06:33:17.184013000 +0000", updated_at: "2024-02-24 06:33:17.184013000 +0000", arrival_airport_id: 2, departure_airport_id: 9>, #<Flight id: 23, start_datetime: "2024-03-06 08:29:30 +0300", duration: "12 hours 36 minutes", created_at: "2024-02-24 06:33:17.190467000 +0000", updated_at: "2024-02-24 06:33:17.190467000 +0000", arrival_airport_id: 2, departure_airport_id: 9>]>):
    34:     Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
    35:   <% end %>
    36: 
    37:   <%= form_with model: @flights do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
  
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 11:13:05 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (1.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 37.1ms | Allocations: 8480)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 8572)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 6.7ms | Allocations: 20217)


  
ActionView::Template::Error (undefined method `departure_airport-arrival_airport' for #<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:37:42 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240224081419_create_bookings.rb


):
  
activerecord (7.1.3.2) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.3.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.3.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.3.2) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.3.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.3.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.9.1) lib/rack/method_override.rb:28:in `call'
rack (3.0.9.1) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.3.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.9.1) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.3.2) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookings (20240224081419)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224081419') RETURNING "version"[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:39:24 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:39:25 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (2.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Airport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mCACHE Airport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 223.7ms | Allocations: 16851)
  Rendered layout layouts/application.html.erb (Duration: 238.5ms | Allocations: 17404)
Completed 500 Internal Server Error in 862ms (ActiveRecord: 5.4ms | Allocations: 214348)


  Rendered flights/index.html.erb within layouts/application (Duration: 238.1ms | Allocations: 18306)
  Rendered layout layouts/application.html.erb (Duration: 258.7ms | Allocations: 19643)
Completed 500 Internal Server Error in 1468ms (ActiveRecord: 15.6ms | Allocations: 335703)


  
ActionView::Template::Error (undefined method `departure_airport-arrival_airport' for #<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: @flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
  
ActionView::Template::Error (undefined method `departure_airport-arrival_airport' for #<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: @flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:40:31 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 71.9ms | Allocations: 8415)
  Rendered layout layouts/application.html.erb (Duration: 73.0ms | Allocations: 8507)
Completed 500 Internal Server Error in 157ms (ActiveRecord: 14.6ms | Allocations: 20162)


  
ActionView::Template::Error (undefined method `departure_airport-arrival_airport' for #<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>):
    35:   <% end %>
    36: 
    37:   <%= form_with model: @flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
app/controllers/flights_controller.rb:20:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:41:33 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (1.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 80.2ms | Allocations: 8219)
  Rendered layout layouts/application.html.erb (Duration: 81.1ms | Allocations: 8311)
Completed 500 Internal Server Error in 162ms (ActiveRecord: 11.7ms | Allocations: 19952)


  
ActionView::Template::Error (undefined method `model_name' for {:model=>#<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>}:Hash):
    34:     Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
    35:   <% end %>
    36: 
    37:   <%= form_for model: @flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
  
app/views/flights/index.html.erb:37
app/controllers/flights_controller.rb:20:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:41:49 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (1.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 64.3ms | Allocations: 8502)
  Rendered layout layouts/application.html.erb (Duration: 65.0ms | Allocations: 8594)
Completed 500 Internal Server Error in 151ms (ActiveRecord: 9.7ms | Allocations: 20235)


  
ActionView::Template::Error (undefined method `departure_airport-arrival_airport' for #<Flight id: 21, start_datetime: "2024-03-06 11:26:34 +0300", duration: "15 hours 12 minutes", created_at: "2024-02-24 06:33:17.175511000 +0000", updated_at: "2024-02-24 06:33:17.175511000 +0000", arrival_airport_id: 2, departure_airport_id: 9>):
    35:   <% end %>
    36: 
    37:   <%= form_for @flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, "#{:departure_airport}-#{:arrival_airport}" %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
app/controllers/flights_controller.rb:20:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:45:06 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 102.7ms | Allocations: 8752)
  Rendered layout layouts/application.html.erb (Duration: 103.4ms | Allocations: 8844)
Completed 500 Internal Server Error in 188ms (ActiveRecord: 11.8ms | Allocations: 20475)


  
ActionView::Template::Error (undefined method `flight_id' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    35:   <% end %>
    36: 
    37:   <%= form_for @flight do |f| %>
    38:     <%= f.collection_radio_buttons :flight_id, @flights, :id, :start_datetime %>
    39:   
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
app/controllers/flights_controller.rb:20:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:45:21 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (2.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 83.6ms | Allocations: 8270)
  Rendered layout layouts/application.html.erb (Duration: 301.0ms | Allocations: 39396)
Completed 200 OK in 403ms (Views: 311.8ms | ActiveRecord: 12.5ms | Allocations: 51096)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:46:13 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 47.2ms | Allocations: 7781)
  Rendered layout layouts/application.html.erb (Duration: 113.4ms | Allocations: 22108)
Completed 200 OK in 209ms (Views: 121.2ms | ActiveRecord: 12.3ms | Allocations: 33757)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:46:58 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 52.5ms | Allocations: 8240)
  Rendered layout layouts/application.html.erb (Duration: 53.1ms | Allocations: 8332)
Completed 500 Internal Server Error in 129ms (ActiveRecord: 8.0ms | Allocations: 19956)


  
ActionView::Template::Error (no implicit conversion of Symbol into String):
    35:   <% end %>
    36: 
    37:   <%= form_with model: @flight do |f| %>
    38:     <%= f.collection_radio_buttons :id, @flights, :id, Time.parse(:start_datetime).to_fs(:long) %>
    39: 
    40:   <% end %>
    41: <% end %>
  
app/views/flights/index.html.erb:38
app/views/flights/index.html.erb:37
app/controllers/flights_controller.rb:20:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:48:01 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 119.7ms | Allocations: 7780)
  Rendered layout layouts/application.html.erb (Duration: 172.0ms | Allocations: 22107)
Completed 200 OK in 257ms (Views: 173.3ms | ActiveRecord: 14.6ms | Allocations: 33745)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:48:26 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 57.9ms | Allocations: 7840)
  Rendered layout layouts/application.html.erb (Duration: 109.8ms | Allocations: 22169)
Completed 200 OK in 191ms (Views: 122.4ms | ActiveRecord: 9.0ms | Allocations: 33747)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:48:40 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 71.5ms | Allocations: 7773)
  Rendered layout layouts/application.html.erb (Duration: 125.2ms | Allocations: 22101)
Completed 200 OK in 220ms (Views: 133.5ms | ActiveRecord: 9.4ms | Allocations: 33680)


Started GET "/" for ::1 at 2024-02-24 15:48:43 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 786)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 1886)
Completed 200 OK in 21ms (Views: 11.4ms | ActiveRecord: 0.6ms | Allocations: 4507)


Started GET "/flights?flight%5Bdeparture_airport%5D=3&flight%5Barrival_airport%5D=1&flight%5Bstart_datetime%5D=&commit=Search" for ::1 at 2024-02-24 15:48:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"3", "arrival_airport"=>"1", "start_datetime"=>""}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms | Allocations: 2660)


  
Date::Error (invalid date):
  
app/controllers/flights_controller.rb:14:in `parse'
app/controllers/flights_controller.rb:14:in `index'
Started GET "/" for ::1 at 2024-02-24 15:49:33 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 786)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 1901)
Completed 200 OK in 34ms (Views: 21.3ms | ActiveRecord: 0.6ms | Allocations: 4511)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:49:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 4996)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 6102)
Completed 200 OK in 61ms (Views: 34.8ms | ActiveRecord: 1.5ms | Allocations: 8846)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:50:31 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 71.5ms | Allocations: 7810)
  Rendered layout layouts/application.html.erb (Duration: 285.6ms | Allocations: 22142)
Completed 200 OK in 366ms (Views: 298.5ms | ActiveRecord: 13.2ms | Allocations: 33779)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:50:50 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 59.0ms | Allocations: 7871)
  Rendered layout layouts/application.html.erb (Duration: 103.8ms | Allocations: 22079)
Completed 200 OK in 192ms (Views: 114.4ms | ActiveRecord: 21.2ms | Allocations: 33653)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:55:24 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 51.9ms | Allocations: 8359)
  Rendered layout layouts/application.html.erb (Duration: 55.0ms | Allocations: 8451)
Completed 500 Internal Server Error in 132ms (ActiveRecord: 9.0ms | Allocations: 20040)


  
ActionView::Template::Error (undefined method `label_tag' for #<ActionView::Helpers::FormBuilder:0x00007fc367872300 @nested_child_index={}, @options={:allow_method_names_outside_object=>true, :skip_default_ids=>false}, @template=#<ActionView::Base:0x0000000003c618>, @object=#<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>, @object_name="flight", @default_options={:skip_default_ids=>false, :allow_method_names_outside_object=>true}, @default_html_options={}, @multipart=nil, @index=nil>):
    37:   
    38:   <%= form_with model: @flight do |f| %>
    39:     <div>
    40:       <%= f.label_tag :id, "Chose time" %> 
    41:       <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
    42:     </div>
    43:     <br/>
  
app/views/flights/index.html.erb:40
app/views/flights/index.html.erb:38
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:55:41 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 78.0ms | Allocations: 8196)
  Rendered layout layouts/application.html.erb (Duration: 152.4ms | Allocations: 22523)
Completed 200 OK in 237ms (Views: 153.1ms | ActiveRecord: 19.4ms | Allocations: 34188)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:56:23 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 50.2ms | Allocations: 8727)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 8819)
Completed 500 Internal Server Error in 119ms (ActiveRecord: 8.6ms | Allocations: 20458)


  
ActionView::Template::Error (no implicit conversion of Symbol into Hash):
    43:     <br/>
    44:     <div>
    45:       <%= f.label :number_of_passengers, "Number of passengers"  %>
    46:       <%= f.text_field :number_of_passengers, :number %>
    47:     </div>
    48:     <br/>
    49:     <%= f.submit "Book flight" %>
  
app/views/flights/index.html.erb:46
app/views/flights/index.html.erb:38
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:56:44 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 99.0ms | Allocations: 8326)
  Rendered layout layouts/application.html.erb (Duration: 182.5ms | Allocations: 22654)
Completed 200 OK in 263ms (Views: 189.8ms | ActiveRecord: 9.6ms | Allocations: 34316)


Started POST "/flights" for ::1 at 2024-02-24 15:58:56 +0300
  
ActionController::RoutingError (No route matches [POST] "/flights"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 15:58:56 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 96.2ms | Allocations: 8142)
  Rendered layout layouts/application.html.erb (Duration: 150.5ms | Allocations: 22470)
Completed 200 OK in 297ms (Views: 157.1ms | ActiveRecord: 29.1ms | Allocations: 34093)


Started POST "/booking/new" for ::1 at 2024-02-24 16:01:09 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/booking/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:01:11 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 102.1ms | Allocations: 11263)
  Rendered layout layouts/application.html.erb (Duration: 103.9ms | Allocations: 11367)
Completed 500 Internal Server Error in 325ms (ActiveRecord: 10.8ms | Allocations: 39392)


  
ActionView::Template::Error (undefined local variable or method `new_bookings_path' for #<ActionView::Base:0x0000000000ade8>):
    35:   <% end %>
    36: 
    37:   
    38:   <%= form_with model: @flight, url: new_bookings_path do |f| %>
    39:     <div>
    40:       <%= f.label :id, "Chose time" %> 
    41:       <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
  
app/views/flights/index.html.erb:38
Started PUT "/__web_console/repl_sessions/894239190f3041523d59ba00d85d9561" for ::1 at 2024-02-24 16:01:28 +0300
Started PUT "/__web_console/repl_sessions/894239190f3041523d59ba00d85d9561" for ::1 at 2024-02-24 16:01:32 +0300
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:03:19 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 98.2ms | Allocations: 13189)
  Rendered layout layouts/application.html.erb (Duration: 101.1ms | Allocations: 13315)
Completed 500 Internal Server Error in 1001ms (ActiveRecord: 7.3ms | Allocations: 323910)


  
ActionView::Template::Error (undefined method `number_of_passengers' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    45:       <%= f.label :number_of_passengers, "Number of passengers"  %>
    46:       <%= f.number_field :number_of_passengers %>
    47:     </div>
    48:     <%= f.hidden_field :number_of_passengers, @flight.number_of_passengers %>
    49:     <br/>
    50:     <%= f.submit "Book flight" %>
    51:   <% end %>
  
app/views/flights/index.html.erb:48
app/views/flights/index.html.erb:38
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:04:18 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 59.6ms | Allocations: 8905)
  Rendered layout layouts/application.html.erb (Duration: 60.4ms | Allocations: 8997)
Completed 500 Internal Server Error in 125ms (ActiveRecord: 10.6ms | Allocations: 20655)


  
ActionView::Template::Error (undefined method `number_of_passengers' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    45:       <%= f.label :number_of_passengers, "Number of passengers"  %>
    46:       <%= f.number_field :number_of_passengers %>
    47:     </div>
    48:     <%= f.hidden_field :number_of_passengers, @flight.number_of_passengers %>
    49:     <br/>
    50:     <%= f.submit "Book flight" %>
    51:   <% end %>
  
app/views/flights/index.html.erb:48
app/views/flights/index.html.erb:38
Started GET "/" for ::1 at 2024-02-24 16:04:26 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 786)
  Rendered layout layouts/application.html.erb (Duration: 150.0ms | Allocations: 32342)
Completed 200 OK in 165ms (Views: 151.9ms | ActiveRecord: 0.6ms | Allocations: 35036)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:04:41 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:32
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:33
  Rendered flights/index.html.erb within layouts/application (Duration: 43.5ms | Allocations: 6083)
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | Allocations: 6174)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 1.7ms | Allocations: 8886)


  
ActionView::Template::Error (undefined method `number_of_passengers' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    45:       <%= f.label :number_of_passengers, "Number of passengers"  %>
    46:       <%= f.number_field :number_of_passengers %>
    47:     </div>
    48:     <%= f.hidden_field :number_of_passengers, @flight.number_of_passengers %>
    49:     <br/>
    50:     <%= f.submit "Book flight" %>
    51:   <% end %>
  
app/views/flights/index.html.erb:48
app/views/flights/index.html.erb:38
Started GET "/" for ::1 at 2024-02-24 16:05:53 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 2869)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 2961)
Completed 500 Internal Server Error in 119ms (ActiveRecord: 9.7ms | Allocations: 14426)


  
ActionView::Template::Error (undefined method `label_tag' for #<ActionView::Helpers::FormBuilder:0x00007f26cdbcee40 @nested_child_index={}, @options={:allow_method_names_outside_object=>true, :skip_default_ids=>false, :method=>:get}, @template=#<ActionView::Base:0x00000000011dc8>, @object=#<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>, @object_name="flight", @default_options={:skip_default_ids=>false, :allow_method_names_outside_object=>true}, @default_html_options={}, @multipart=nil, @index=nil>):
    18:   </div>
    19:   <br/>
    20:     <div>
    21:       <%= f.label_tag :number_of_passengers, "Number of passengers"  %>
    22:       <%= f.number_field :number_of_passengers %>
    23:     </div>
    24:   <br/>
  
app/views/flights/index.html.erb:21
app/views/flights/index.html.erb:9
Started GET "/" for ::1 at 2024-02-24 16:06:09 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2267)
  Rendered layout layouts/application.html.erb (Duration: 65.4ms | Allocations: 16609)
Completed 200 OK in 160ms (Views: 75.3ms | ActiveRecord: 17.0ms | Allocations: 28098)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=4&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:06:28 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"4", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mFlight Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ? LIMIT ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:34
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/views/flights/index.html.erb:35
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 47.4ms | Allocations: 7622)
  Rendered layout layouts/application.html.erb (Duration: 48.1ms | Allocations: 7713)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 2.4ms | Allocations: 10466)


  
ActionView::Template::Error (undefined method `number_of_passengers' for #<Flight id: nil, start_datetime: nil, duration: nil, created_at: nil, updated_at: nil, arrival_airport_id: nil, departure_airport_id: nil>):
    45:       <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
    46:     </div>
    47:     <br/>
    48:     <%= f.hidden_field :number_of_passengers, @flight.number_of_passengers %>
    49:     <%= f.submit "Book flight" %>
    50:   <% end %>
    51: <% end %>
  
app/views/flights/index.html.erb:48
app/views/flights/index.html.erb:42
Started GET "/" for ::1 at 2024-02-24 16:07:07 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 99ms (ActiveRecord: 36.0ms | Allocations: 10908)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:29:in `flight_search_params'
app/controllers/flights_controller.rb:20:in `index'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:07:17 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1652)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 1744)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 0.9ms | Allocations: 5307)


  
ActionView::Template::Error (undefined method `model_name' for #<ActionController::Parameters {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"} permitted: true>):
     6:   <% end %>  
     7: </div>
     8: 
     9: <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
    10:   <div>
    11:     <%= label_tag :departure_airport, "Departure" %>
    12:     <%= f.select(:departure_airport, @departure_options)%>
  
app/views/flights/index.html.erb:9
Started GET "/" for ::1 at 2024-02-24 16:07:20 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 10ms (ActiveRecord: 0.6ms | Allocations: 2843)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:29:in `flight_search_params'
app/controllers/flights_controller.rb:20:in `index'
Started GET "/" for ::1 at 2024-02-24 16:07:21 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 400 Bad Request in 16ms (ActiveRecord: 0.8ms | Allocations: 2841)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/flights_controller.rb:29:in `flight_search_params'
app/controllers/flights_controller.rb:20:in `index'
Started GET "/" for ::1 at 2024-02-24 16:07:54 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2207)
  Rendered layout layouts/application.html.erb (Duration: 77.4ms | Allocations: 16580)
Completed 200 OK in 159ms (Views: 83.4ms | ActiveRecord: 10.7ms | Allocations: 28069)


Started GET "/" for ::1 at 2024-02-24 16:07:59 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 845)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 1951)
Completed 200 OK in 56ms (Views: 29.6ms | ActiveRecord: 0.9ms | Allocations: 4549)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:08:14 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1040)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 1131)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.1ms | Allocations: 4421)


  
ActionView::Template::Error (undefined method `model_name' for #<ActionController::Parameters {"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06", "number_of_passengers"=>"3"} permitted: true>):
     6:   <% end %>  
     7: </div>
     8: 
     9: <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
    10:   <div>
    11:     <%= label_tag :departure_airport, "Departure" %>
    12:     <%= f.select(:departure_airport, @departure_options)%>
  
app/views/flights/index.html.erb:9
Started GET "/" for ::1 at 2024-02-24 16:09:30 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 75ms (ActiveRecord: 12.0ms | Allocations: 10883)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:20:in `index'
Started GET "/" for ::1 at 2024-02-24 16:09:42 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 12.7ms | Allocations: 10939)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/flights_controller.rb:20:in `index'
Started GET "/" for ::1 at 2024-02-24 16:10:04 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 2209)
  Rendered layout layouts/application.html.erb (Duration: 71.5ms | Allocations: 16551)
Completed 200 OK in 153ms (Views: 75.5ms | ActiveRecord: 8.6ms | Allocations: 28064)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:10:22 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 6655)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 6746)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.7ms | Allocations: 10014)


  
ActionView::Template::Error (no implicit conversion of nil into Hash):
    45:       <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
    46:     </div>
    47:     <br/>
    48:     <%= f.hidden_field :number_of_passengers, @number_of_passengers %>
    49:     <%= f.submit "Book flight" %>
    50:   <% end %>
    51: <% end %>
  
app/views/flights/index.html.erb:48
app/views/flights/index.html.erb:42
Started GET "/" for ::1 at 2024-02-24 16:11:04 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 2208)
  Rendered layout layouts/application.html.erb (Duration: 65.8ms | Allocations: 16550)
Completed 200 OK in 164ms (Views: 74.7ms | ActiveRecord: 11.1ms | Allocations: 28064)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:11:17 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 6650)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 6741)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 1.8ms | Allocations: 9988)


  
ActionView::Template::Error (no implicit conversion of String into Hash):
    45:       <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
    46:     </div>
    47:     <br/>
    48:     <%= f.hidden_field :number_of_passengers, @passengers %>
    49:     <%= f.submit "Book flight" %>
    50:   <% end %>
    51: <% end %>
  
app/views/flights/index.html.erb:48
app/views/flights/index.html.erb:42
Started GET "/" for ::1 at 2024-02-24 16:12:20 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2207)
  Rendered layout layouts/application.html.erb (Duration: 81.3ms | Allocations: 16601)
Completed 200 OK in 157ms (Views: 89.4ms | ActiveRecord: 9.1ms | Allocations: 28106)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:12:33 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 36.7ms | Allocations: 6069)
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 7173)
Completed 200 OK in 64ms (Views: 48.1ms | ActiveRecord: 1.4ms | Allocations: 10414)


Started POST "/bookings/new" for ::1 at 2024-02-24 16:12:43 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:12:43 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (2.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 39.5ms | Allocations: 4250)
  Rendered layout layouts/application.html.erb (Duration: 50.6ms | Allocations: 5364)
Completed 200 OK in 84ms (Views: 52.9ms | ActiveRecord: 3.6ms | Allocations: 8583)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookings (20240224081419)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (5.1ms)[0m  [1m[35mDROP TABLE "bookings"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240224081419'[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBookings (20240224081419)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "number_of_passengers" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224081419') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddFlightRefToBookings (20240224133021)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "bookingd" ADD "flight_id" integer[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFlightRefToBookings (20240224133021)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "booking" ADD "flight_id" integer[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFlightRefToBookings (20240224133021)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "bookings" ADD "flight_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_flight_id" ON "bookings" ("flight_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224133021') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/bookings/new" for ::1 at 2024-02-24 16:33:37 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:33:38 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 88.2ms | Allocations: 10174)
  Rendered layout layouts/application.html.erb (Duration: 459.0ms | Allocations: 41523)
Completed 200 OK in 702ms (Views: 462.5ms | ActiveRecord: 11.6ms | Allocations: 71165)


Started POST "/bookings/new" for ::1 at 2024-02-24 16:33:43 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:33:43 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 29.9ms | Allocations: 4252)
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 5366)
Completed 200 OK in 68ms (Views: 43.4ms | ActiveRecord: 1.9ms | Allocations: 8607)


Started POST "/bookings/new" for ::1 at 2024-02-24 16:33:49 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 16:33:49 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 26.3ms | Allocations: 4250)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 5364)
Completed 200 OK in 65ms (Views: 35.9ms | ActiveRecord: 2.7ms | Allocations: 8598)


Started GET "/" for ::1 at 2024-02-24 17:09:16 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (5.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 844)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 1944)
Completed 200 OK in 31ms (Views: 9.1ms | ActiveRecord: 9.7ms | Allocations: 4891)


Started GET "/documents" for ::1 at 2024-02-24 17:09:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/documents"):
  
Started POST "/bookings/new" for ::1 at 2024-02-24 17:10:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:10:01 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 44.4ms | Allocations: 4272)
  Rendered layout layouts/application.html.erb (Duration: 52.8ms | Allocations: 5386)
Completed 200 OK in 79ms (Views: 53.6ms | ActiveRecord: 2.6ms | Allocations: 8601)


Started POST "/bookings/new" for ::1 at 2024-02-24 17:10:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:10:05 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 75.6ms | Allocations: 4253)
  Rendered layout layouts/application.html.erb (Duration: 98.1ms | Allocations: 5367)
Completed 200 OK in 124ms (Views: 100.4ms | ActiveRecord: 1.9ms | Allocations: 8600)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:10:14 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 47.8ms | Allocations: 4239)
  Rendered layout layouts/application.html.erb (Duration: 56.8ms | Allocations: 5338)
Completed 200 OK in 97ms (Views: 59.4ms | ActiveRecord: 3.7ms | Allocations: 8560)


Started GET "/" for ::1 at 2024-02-24 17:10:16 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 844)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 1944)
Completed 200 OK in 25ms (Views: 11.8ms | ActiveRecord: 0.5ms | Allocations: 4559)


Started GET "/" for ::1 at 2024-02-24 17:10:19 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 1943)
Completed 200 OK in 29ms (Views: 15.8ms | ActiveRecord: 1.2ms | Allocations: 4540)


Started GET "/" for ::1 at 2024-02-24 17:10:19 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (1.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 1943)
Completed 200 OK in 32ms (Views: 16.2ms | ActiveRecord: 1.5ms | Allocations: 4555)


Started GET "/" for ::1 at 2024-02-24 17:10:20 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 1943)
Completed 200 OK in 29ms (Views: 14.4ms | ActiveRecord: 0.9ms | Allocations: 4586)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:10:34 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 38.3ms | Allocations: 4246)
  Rendered layout layouts/application.html.erb (Duration: 45.3ms | Allocations: 5360)
Completed 200 OK in 81ms (Views: 48.6ms | ActiveRecord: 1.2ms | Allocations: 8595)


Started POST "/bookings/new" for ::1 at 2024-02-24 17:10:37 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:10:37 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 53.5ms | Allocations: 4251)
  Rendered layout layouts/application.html.erb (Duration: 65.8ms | Allocations: 5365)
Completed 200 OK in 94ms (Views: 68.0ms | ActiveRecord: 1.7ms | Allocations: 8592)


Started POST "/bookings/new" for ::1 at 2024-02-24 17:13:12 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:13:13 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (2.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (4.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 102.9ms | Allocations: 4252)
  Rendered layout layouts/application.html.erb (Duration: 107.1ms | Allocations: 5366)
Completed 200 OK in 162ms (Views: 107.5ms | ActiveRecord: 5.1ms | Allocations: 8599)


Started POST "/bookings/new" for ::1 at 2024-02-24 17:13:50 +0300
  
ActionController::RoutingError (No route matches [POST] "/bookings/new"):
  
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:13:50 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (2.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1573)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 1676)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 13.6ms | Allocations: 14184)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div>
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>  
</div>

<%= form_with model: @flight, url: flights_path, method: :get do |f| %>
  <div>
    <%= label_tag :departure_airport, "Departure" %>
    <%= f.select(:departure_airport, @departure_options)%>
  </div>
  <br/>
  <div>
    <%= label_tag :arrival_airport, "Arrival" %>
    <%= f.select(:arrival_airport, @arrival_options) %>
  </div>
  <br/>
    <div>
      <%= label_tag :number_of_passengers, "Number of passengers"  %>
      <%= f.number_field :number_of_passengers %>
    </div>
  <br/>
  <div>
    <%= label_tag :start_datetime, "Date" %>
    <%= f.date_field :start_datetime %>
  </div>
  <br/>
  <%= f.submit "Search" %>
<% end %>


<% if !@flights.empty? %>
  <% for flight in @flights %>
    <p>Arrival: <%= flight.arrival_airport.code %> - 
    Departure: <%= flight.departure_airport.code %> 
    Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
  <% end %>

  
  <%= form_with model: @flight, url: new_booking_path method: :get do |f| %>
    <div>
      <%= label_tag :id, "Chose time" %> 
      <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
    </div>
    <br/>
    <%= f.hidden_field :number_of_passengers, number_of_passengers: @passengers %>
    <%= f.submit "Book flight" %>
  <% end %>
<% end %>


):
1:    <div>
2:      <% flash.each do |type, msg| %>
3:        <div>
4:          <%= msg %>
5:        </div>
6:      <% end %>  
7:    </div>
8:    
9:    <%= form_with model: @flight, url: flights_path, method: :get do |f| %>
10:      <div>
11:        <%= label_tag :departure_airport, "Departure" %>
12:        <%= f.select(:departure_airport, @departure_options)%>
13:      </div>
14:      <br/>
15:      <div>
16:        <%= label_tag :arrival_airport, "Arrival" %>
17:        <%= f.select(:arrival_airport, @arrival_options) %>
18:      </div>
19:      <br/>
20:        <div>
21:          <%= label_tag :number_of_passengers, "Number of passengers"  %>
22:          <%= f.number_field :number_of_passengers %>
23:        </div>
24:      <br/>
25:      <div>
26:        <%= label_tag :start_datetime, "Date" %>
27:        <%= f.date_field :start_datetime %>
28:      </div>
29:      <br/>
30:      <%= f.submit "Search" %>
31:    <% end %>
32:    
33:    
34:    <% if !@flights.empty? %>
35:      <% for flight in @flights %>
36:        <p>Arrival: <%= flight.arrival_airport.code %> - 
37:        Departure: <%= flight.departure_airport.code %> 
38:        Date: <%= Time.parse(flight.start_datetime).to_fs(:long) %></p>
39:      <% end %>
40:    
41:      
42:      <%= form_with model: @flight, url: new_booking_path method: :get do |f| %>
43:        <div>
44:          <%= label_tag :id, "Chose time" %> 
45:          <%= f.collection_radio_buttons :id, @flights, :id, :start_datetime %>
46:        </div>
47:        <br/>
48:        <%= f.hidden_field :number_of_passengers, number_of_passengers: @passengers %>
49:        <%= f.submit "Book flight" %>
50:      <% end %>
51:    <% end %>
  
app/views/flights/index.html.erb:42: syntax error, unexpected label, expecting `do' or '{' or '('
app/views/flights/index.html.erb:54: syntax error, unexpected `end'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-02-24 17:14:16 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 40.2ms | Allocations: 7133)
  Rendered layout layouts/application.html.erb (Duration: 99.3ms | Allocations: 21475)
Completed 200 OK in 200ms (Views: 103.0ms | ActiveRecord: 9.0ms | Allocations: 33984)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-02-24 17:14:19 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 82)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 1486)
Completed 200 OK in 64ms (Views: 11.5ms | ActiveRecord: 1.0ms | Allocations: 6869)


  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePassengers (20240224151813)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "passengers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224151813') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPassengerRefToBooking (20240224152416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD "passenger_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_passenger_id" ON "bookings" ("passenger_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224152416') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-02-24 18:31:56 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight"}
[31mUnpermitted parameter: :id. Context: { controller: BookingsController, action: new, request: #<ActionDispatch::Request:0x00007fa3199797f8>, params: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight", "controller"=>"bookings", "action"=>"new"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 185)
  Rendered layout layouts/application.html.erb (Duration: 330.7ms | Allocations: 34263)
Completed 200 OK in 1568ms (Views: 343.8ms | ActiveRecord: 5.1ms | Allocations: 334102)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-02-24 18:35:46 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (4.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:4
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  Rendered bookings/new.html.erb within layouts/application (Duration: 68.6ms | Allocations: 8519)
  Rendered layout layouts/application.html.erb (Duration: 193.5ms | Allocations: 23103)
Completed 200 OK in 479ms (Views: 195.6ms | ActiveRecord: 26.7ms | Allocations: 40155)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-02-24 18:36:03 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 58.8ms | Allocations: 6412)
  Rendered layout layouts/application.html.erb (Duration: 227.5ms | Allocations: 20877)
Completed 200 OK in 334ms (Views: 234.7ms | ActiveRecord: 19.8ms | Allocations: 31688)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-02-24 18:36:22 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 46.5ms | Allocations: 6410)
  Rendered layout layouts/application.html.erb (Duration: 123.9ms | Allocations: 20943)
Completed 200 OK in 275ms (Views: 132.5ms | ActiveRecord: 16.6ms | Allocations: 31704)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:37:01 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1050)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 2402)
Completed 200 OK in 35ms (Views: 18.3ms | ActiveRecord: 0.6ms | Allocations: 3030)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:46:28 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 1641)


  
ArgumentError (No association found for name `passengers'. Has it been defined yet?):
  
app/models/booking.rb:5:in `<class:Booking>'
app/models/booking.rb:1:in `<main>'
app/controllers/bookings_controller.rb:4:in `new'
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPassengerRefToBooking (20240224152416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "number_of_passengers" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "flight_id" integer DEFAULT NULL, "passenger_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_abookings_on_passenger_id" ON "abookings" ("passenger_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_abookings_on_flight_id" ON "abookings" ("flight_id")[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "abookings" ("id","number_of_passengers","created_at","updated_at","flight_id","passenger_id")
                     SELECT "id","number_of_passengers","created_at","updated_at","flight_id","passenger_id" FROM "bookings"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "bookings"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "number_of_passengers" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "flight_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bookings_on_flight_id" ON "bookings" ("flight_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("id","number_of_passengers","created_at","updated_at","flight_id")
                     SELECT "id","number_of_passengers","created_at","updated_at","flight_id" FROM "abookings"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "abookings"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240224152416'[0m
  [1m[36mTRANSACTION (33.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBookingRefToPassenger (20240224154747)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "pasesngers" ADD "booking_id" integer[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBookingRefToPassenger (20240224154747)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "passengers" ADD "booking_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_passengers_on_booking_id" ON "passengers" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224154747') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:51:56 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (1.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 128.0ms | Allocations: 10152)
  Rendered layout layouts/application.html.erb (Duration: 129.0ms | Allocations: 10278)
Completed 500 Internal Server Error in 2429ms (ActiveRecord: 48.2ms | Allocations: 320414)


  
ActionView::Template::Error (undefined method `bookings_path' for #<ActionView::Base:0x0000000000ab18>):
     7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
     8: </p>
     9: 
    10:   <%= form_with model: @booking do |f| %>
    11:     <% @number_of_passengers.times do %>
    12:       <%= f.fields_for @booking.passnegers.build do |f| %>
    13:         <div>
  
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:52:48 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (3.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 129.4ms | Allocations: 7788)
  Rendered layout layouts/application.html.erb (Duration: 135.5ms | Allocations: 7880)
Completed 500 Internal Server Error in 328ms (ActiveRecord: 39.3ms | Allocations: 18472)


  
ActionView::Template::Error (undefined method `passnegers' for #<Booking id: nil, number_of_passengers: nil, created_at: nil, updated_at: nil, flight_id: nil>):
     9: 
    10:   <%= form_with model: @booking do |f| %>
    11:     <% @number_of_passengers.times do %>
    12:       <%= f.fields_for @booking.passnegers.build do |f| %>
    13:         <div>
    14:             <%= label_tag :username, "Username" %>
    15:             <%= f.text_field :username %>
  
app/views/bookings/new.html.erb:12
app/views/bookings/new.html.erb:11:in `times'
app/views/bookings/new.html.erb:11
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:53:17 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 222.7ms | Allocations: 15565)
  Rendered layout layouts/application.html.erb (Duration: 223.8ms | Allocations: 15657)
Completed 500 Internal Server Error in 344ms (ActiveRecord: 29.8ms | Allocations: 26298)


  
ActionView::Template::Error (undefined method `username' for #<Passenger id: nil, email: nil, name: nil, created_at: nil, updated_at: nil, booking_id: nil>):
    12:       <%= f.fields_for @booking.passengers.build do |f| %>
    13:         <div>
    14:             <%= label_tag :username, "Username" %>
    15:             <%= f.text_field :username %>
    16:         </div>
    17:         <div>
    18:             <%= label_tag :email, "Email" %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:12
app/views/bookings/new.html.erb:11:in `times'
app/views/bookings/new.html.erb:11
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:53:47 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 174.7ms | Allocations: 12413)
  Rendered layout layouts/application.html.erb (Duration: 176.8ms | Allocations: 12505)
Completed 500 Internal Server Error in 336ms (ActiveRecord: 17.4ms | Allocations: 23094)


  
ActionView::Template::Error (undefined method `flight_id' for #<Passenger id: nil, email: nil, name: nil, created_at: nil, updated_at: nil, booking_id: nil>):
    18:             <%= label_tag :email, "Email" %>
    19:             <%= f.email_field :email %>
    20:         </div>
    21:         <%= f.hidden_field :flight_id, flight_id: @flight_id %>
    22:       <% end %>
    23:     <% end %>
    24:     <%= f.submit %>
  
app/views/bookings/new.html.erb:21
app/views/bookings/new.html.erb:12
app/views/bookings/new.html.erb:11:in `times'
app/views/bookings/new.html.erb:11
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:54:11 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 353.9ms | Allocations: 12422)
  Rendered layout layouts/application.html.erb (Duration: 739.9ms | Allocations: 43535)
Completed 200 OK in 816ms (Views: 740.5ms | ActiveRecord: 10.6ms | Allocations: 54247)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:55:27 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (2.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 139.2ms | Allocations: 12041)
  Rendered layout layouts/application.html.erb (Duration: 276.7ms | Allocations: 26368)
Completed 200 OK in 415ms (Views: 295.8ms | ActiveRecord: 16.6ms | Allocations: 36972)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:55:50 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 97.2ms | Allocations: 12035)
  Rendered layout layouts/application.html.erb (Duration: 165.3ms | Allocations: 26362)
Completed 200 OK in 286ms (Views: 174.8ms | ActiveRecord: 12.5ms | Allocations: 37015)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 18:56:03 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 177.3ms | Allocations: 12024)
  Rendered layout layouts/application.html.erb (Duration: 229.7ms | Allocations: 26352)
Completed 200 OK in 445ms (Views: 233.2ms | ActiveRecord: 62.6ms | Allocations: 36899)


Started POST "/bookings" for ::1 at 2024-02-24 19:01:09 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"z", "email"=>"zx@cv"}, "flight_id"=>""}, "commit"=>"Create Booking"}
No template found for BookingsController#create, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 15.7ms | Allocations: 4893)


Started POST "/bookings" for ::1 at 2024-02-24 19:04:54 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"z", "email"=>"zx@cv"}, "flight_id"=>""}, "commit"=>"Create Booking"}
No template found for BookingsController#create, rendering head :no_content
Completed 204 No Content in 38ms (ActiveRecord: 11.9ms | Allocations: 4882)


Started POST "/bookings" for ::1 at 2024-02-24 19:07:11 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"z", "email"=>"zx@cv"}, "flight_id"=>""}, "commit"=>"Create Booking"}
No template found for BookingsController#create, rendering head :no_content
Completed 204 No Content in 36ms (ActiveRecord: 5.0ms | Allocations: 4849)


Started POST "/bookings" for ::1 at 2024-02-24 19:10:28 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"z", "email"=>"zx@cv"}, "flight_id"=>""}, "commit"=>"Create Booking"}
No template found for BookingsController#create, rendering head :no_content
Completed 204 No Content in 46ms (ActiveRecord: 21.1ms | Allocations: 4819)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:13:00 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 151.8ms | Allocations: 12048)
  Rendered layout layouts/application.html.erb (Duration: 200.1ms | Allocations: 26377)
Completed 200 OK in 299ms (Views: 197.1ms | ActiveRecord: 16.4ms | Allocations: 36982)


Started POST "/bookings" for ::1 at 2024-02-24 19:13:25 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"z", "email"=>"zx@cv"}, "flight_id"=>""}, "commit"=>"Create Booking"}
Completed 400 Bad Request in 8ms (ActiveRecord: 0.0ms | Allocations: 826)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/bookings_controller.rb:21:in `booking_create_params'
app/controllers/bookings_controller.rb:11:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:13:27 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 2323)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 3437)
Completed 200 OK in 43ms (Views: 34.7ms | ActiveRecord: 1.0ms | Allocations: 4064)


Started POST "/bookings" for ::1 at 2024-02-24 19:16:20 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"z", "email"=>"zx@cv"}, "flight_id"=>""}, "commit"=>"Create Booking"}
Completed 400 Bad Request in 8ms (ActiveRecord: 0.0ms | Allocations: 1992)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/bookings_controller.rb:27:in `booking_create_params'
app/controllers/bookings_controller.rb:11:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:16:22 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 116.8ms | Allocations: 12031)
  Rendered layout layouts/application.html.erb (Duration: 198.5ms | Allocations: 26359)
Completed 200 OK in 304ms (Views: 209.2ms | ActiveRecord: 21.5ms | Allocations: 35753)


Started POST "/bookings" for ::1 at 2024-02-24 19:17:20 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking"}
Completed 400 Bad Request in 9ms (ActiveRecord: 0.0ms | Allocations: 2017)


  
ActionController::ParameterMissing (param is missing or the value is empty: flight):
  
app/controllers/bookings_controller.rb:28:in `booking_create_params'
app/controllers/bookings_controller.rb:11:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:17:22 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 95.2ms | Allocations: 12055)
  Rendered layout layouts/application.html.erb (Duration: 136.6ms | Allocations: 26384)
Completed 200 OK in 272ms (Views: 141.0ms | ActiveRecord: 42.4ms | Allocations: 35780)


Started POST "/bookings" for ::1 at 2024-02-24 19:18:18 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f506dabe108>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:13:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1278)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 1370)
Completed 500 Internal Server Error in 107ms (ActiveRecord: 14.3ms | Allocations: 10699)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:16:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:19:11 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 194.4ms | Allocations: 16444)
  Rendered layout layouts/application.html.erb (Duration: 302.7ms | Allocations: 30805)
Completed 200 OK in 353ms (Views: 310.9ms | ActiveRecord: 25.1ms | Allocations: 35115)


Started POST "/bookings" for ::1 at 2024-02-24 19:19:47 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"dsf", "email"=>"feds@df"}, "flight_id"=>""}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f503f7648a0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"dsf", "email"=>"feds@df"}, "flight_id"=>""}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 906)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 997)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 2248)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:16:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:27:07 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (5.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 46.6ms | Allocations: 7296)
  Rendered layout layouts/application.html.erb (Duration: 48.5ms | Allocations: 7388)
Completed 500 Internal Server Error in 164ms (ActiveRecord: 10.0ms | Allocations: 20163)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    11:     <span>Enter passenger's data:</span>
    12:     <br/>
    13:     <br/>
    14:     <% for passenger in @passengers do %>
    15:       <%= f.fields_for passenger.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
  
app/views/bookings/new.html.erb:14
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:27:32 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 14.6ms | Allocations: 2099)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 2190)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.9ms | Allocations: 2838)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    11:     <span>Enter passenger's data:</span>
    12:     <br/>
    13:     <br/>
    14:     <% for passenger in @passengers do %>
    15:       <%= f.fields_for passenger.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
  
app/views/bookings/new.html.erb:14
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:27:53 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (1.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 48.7ms | Allocations: 7609)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 7701)
Completed 500 Internal Server Error in 249ms (ActiveRecord: 12.8ms | Allocations: 21703)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    11:     <span>Enter passenger's data:</span>
    12:     <br/>
    13:     <br/>
    14:     <% for passenger in @passengers %>
    15:       <%= f.fields_for passenger.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
  
app/views/bookings/new.html.erb:14
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:28:22 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 50.6ms | Allocations: 7684)
  Rendered layout layouts/application.html.erb (Duration: 52.2ms | Allocations: 7776)
Completed 500 Internal Server Error in 166ms (ActiveRecord: 15.2ms | Allocations: 21834)


  
ActionView::Template::Error (undefined method `build' for #<Passenger id: nil, email: nil, name: nil, created_at: nil, updated_at: nil, booking_id: nil>):
    12:     <br/>
    13:     <br/>
    14:     <% for passenger in @passengers %>
    15:       <%= f.fields_for passenger.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:14:in `each'
app/views/bookings/new.html.erb:14
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:29:06 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (11.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 76.0ms | Allocations: 7705)
  Rendered layout layouts/application.html.erb (Duration: 215.9ms | Allocations: 22032)
Completed 200 OK in 346ms (Views: 210.1ms | ActiveRecord: 27.1ms | Allocations: 36057)


Started POST "/bookings" for ::1 at 2024-02-24 19:29:16 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f506da17588>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 999)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 2878)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:18:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:31:12 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 51.6ms | Allocations: 8058)
  Rendered layout layouts/application.html.erb (Duration: 119.6ms | Allocations: 22385)
Completed 200 OK in 224ms (Views: 124.7ms | ActiveRecord: 13.4ms | Allocations: 36961)


Started POST "/bookings" for ::1 at 2024-02-24 19:31:20 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f506ff426c8>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zx", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 999)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 2887)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:32:17 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 115.9ms | Allocations: 8076)
  Rendered layout layouts/application.html.erb (Duration: 201.2ms | Allocations: 22404)
Completed 200 OK in 480ms (Views: 222.8ms | ActiveRecord: 41.0ms | Allocations: 37127)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:32:34 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 55.3ms | Allocations: 8043)
  Rendered layout layouts/application.html.erb (Duration: 117.7ms | Allocations: 22378)
Completed 200 OK in 571ms (Views: 121.6ms | ActiveRecord: 17.6ms | Allocations: 36914)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:33:48 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 41.8ms | Allocations: 8034)
  Rendered layout layouts/application.html.erb (Duration: 111.7ms | Allocations: 22190)
Completed 200 OK in 210ms (Views: 116.5ms | ActiveRecord: 22.1ms | Allocations: 36694)


Started POST "/bookings" for ::1 at 2024-02-24 19:33:57 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"qwww", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f506e419c48>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"qwww", "email"=>""}, "flight_id"=>""}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 999)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 2855)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:22:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:36:12 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:5:in `new'
  [1m[36mPassenger Load (0.3ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."booking_id" = ?[0m  [["booking_id", 22]]
  ↳ app/controllers/bookings_controller.rb:11:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 125.2ms | Allocations: 7996)
  Rendered layout layouts/application.html.erb (Duration: 183.2ms | Allocations: 22326)
Completed 200 OK in 285ms (Views: 182.4ms | ActiveRecord: 13.9ms | Allocations: 38060)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:37:04 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 78.3ms | Allocations: 8027)
  Rendered layout layouts/application.html.erb (Duration: 153.3ms | Allocations: 22172)
Completed 200 OK in 292ms (Views: 156.1ms | ActiveRecord: 13.4ms | Allocations: 36699)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:38:23 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 1695)


  
NoMethodError (undefined method `id' for #<ActionController::Parameters {"id"=>"22", "number_of_passengers"=>"3"} permitted: true>):
  
app/controllers/bookings_controller.rb:4:in `new'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:39:05 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (1.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 109.0ms | Allocations: 8048)
  Rendered layout layouts/application.html.erb (Duration: 221.2ms | Allocations: 22375)
Completed 200 OK in 480ms (Views: 225.3ms | ActiveRecord: 33.9ms | Allocations: 37032)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:40:47 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
Completed 500 Internal Server Error in 70ms (ActiveRecord: 25.9ms | Allocations: 4661)


  
NoMethodError (undefined method `flight' for Booking:Class):
  
app/controllers/bookings_controller.rb:6:in `new'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:43:21 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
Completed 500 Internal Server Error in 43ms (ActiveRecord: 16.6ms | Allocations: 4700)


  
NoMethodError (undefined method `flight' for Booking:Class):
  
app/controllers/bookings_controller.rb:6:in `new'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:43:33 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
Completed 500 Internal Server Error in 82ms (ActiveRecord: 7.1ms | Allocations: 4755)


  
NoMethodError (undefined method `flight_id' for Booking:Class):
  
app/controllers/bookings_controller.rb:6:in `new'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:44:46 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
Completed 500 Internal Server Error in 236ms (ActiveRecord: 21.4ms | Allocations: 13442)


  
NoMethodError (undefined method `<<' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `block in new'
app/controllers/bookings_controller.rb:10:in `times'
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:45:01 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
Completed 500 Internal Server Error in 137ms (ActiveRecord: 9.0ms | Allocations: 13498)


  
NoMethodError (undefined method `<<' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `block in new'
app/controllers/bookings_controller.rb:10:in `times'
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:45:17 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (2.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 95.2ms | Allocations: 8650)
  Rendered layout layouts/application.html.erb (Duration: 160.7ms | Allocations: 22977)
Completed 200 OK in 328ms (Views: 162.6ms | ActiveRecord: 36.8ms | Allocations: 37121)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 19:46:52 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 90.9ms | Allocations: 8560)
  Rendered layout layouts/application.html.erb (Duration: 303.6ms | Allocations: 22705)
Completed 200 OK in 501ms (Views: 322.3ms | ActiveRecord: 35.8ms | Allocations: 36753)


Started POST "/bookings" for ::1 at 2024-02-24 19:47:07 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zcvz", "email"=>""}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f503f234920>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zcvz", "email"=>""}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 999)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 2842)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBookingRefToPassenger (20240224154747)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apassengers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT NULL, "name" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "booking_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_apassengers_on_booking_id" ON "apassengers" ("booking_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "apassengers" ("id","email","name","created_at","updated_at","booking_id")
                     SELECT "id","email","name","created_at","updated_at","booking_id" FROM "passengers"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "passengers"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "passengers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT NULL, "name" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("id","email","name","created_at","updated_at")
                     SELECT "id","email","name","created_at","updated_at" FROM "apassengers"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "apassengers"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240224154747'[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddBookingRefToPassenger (20240224154747)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "passengers" ADD "booking_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_passengers_on_booking_id" ON "passengers" ("booking_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240224154747') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:17:03 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 61.3ms | Allocations: 13339)
  Rendered layout layouts/application.html.erb (Duration: 181.4ms | Allocations: 44623)
Completed 200 OK in 799ms (Views: 191.2ms | ActiveRecord: 5.6ms | Allocations: 361126)


Started POST "/bookings" for ::1 at 2024-02-24 20:17:12 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zxc", "email"=>""}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c438718>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zxc", "email"=>""}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1269)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 1360)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3413)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:24:50 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (2.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 31.0ms | Allocations: 8157)
  Rendered layout layouts/application.html.erb (Duration: 65.9ms | Allocations: 22484)
Completed 200 OK in 132ms (Views: 68.8ms | ActiveRecord: 3.8ms | Allocations: 36220)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:25:15 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 33.9ms | Allocations: 7589)
  Rendered layout layouts/application.html.erb (Duration: 64.1ms | Allocations: 21916)
Completed 200 OK in 136ms (Views: 66.7ms | ActiveRecord: 20.4ms | Allocations: 36889)


Started POST "/bookings" for ::1 at 2024-02-24 20:25:42 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f18206885c8>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:17:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1230)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1322)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.6ms | Allocations: 10474)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:27:07 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 7601)
  Rendered layout layouts/application.html.erb (Duration: 59.7ms | Allocations: 21928)
Completed 200 OK in 120ms (Views: 63.0ms | ActiveRecord: 7.0ms | Allocations: 36902)


Started POST "/bookings" for ::1 at 2024-02-24 20:27:15 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c4dc458>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 999)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2881)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:28:57 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 42.1ms | Allocations: 7592)
  Rendered layout layouts/application.html.erb (Duration: 64.7ms | Allocations: 21920)
Completed 200 OK in 129ms (Views: 65.3ms | ActiveRecord: 5.9ms | Allocations: 36910)


Started POST "/bookings" for ::1 at 2024-02-24 20:29:05 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c34f6f8>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 999)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2869)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:30:02 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 30.1ms | Allocations: 7586)
  Rendered layout layouts/application.html.erb (Duration: 68.3ms | Allocations: 21913)
Completed 200 OK in 133ms (Views: 69.9ms | ActiveRecord: 9.1ms | Allocations: 36882)


Started POST "/bookings" for ::1 at 2024-02-24 20:30:08 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c4b8170>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c4b8170>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c4b8170>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 999)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3164)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:30:56 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 26.2ms | Allocations: 7598)
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 21925)
Completed 200 OK in 112ms (Views: 49.5ms | ActiveRecord: 6.6ms | Allocations: 36891)


Started POST "/bookings" for ::1 at 2024-02-24 20:31:03 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3b1b00>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3b1b00>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3b1b00>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 999)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 3163)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:31:24 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 7598)
  Rendered layout layouts/application.html.erb (Duration: 62.4ms | Allocations: 21925)
Completed 200 OK in 129ms (Views: 67.8ms | ActiveRecord: 9.6ms | Allocations: 36944)


Started POST "/bookings" for ::1 at 2024-02-24 20:31:31 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f182056c3b0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f182056c3b0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f182056c3b0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>""}, "1"=>{"name"=>"as", "email"=>""}, "2"=>{"name"=>"zx", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 999)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3180)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:32:58 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 44.2ms | Allocations: 7613)
  Rendered layout layouts/application.html.erb (Duration: 122.6ms | Allocations: 21998)
Completed 200 OK in 335ms (Views: 126.2ms | ActiveRecord: 8.9ms | Allocations: 36961)


Started POST "/bookings" for ::1 at 2024-02-24 20:33:02 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwe", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181f7583f0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwe", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181f7583f0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwe", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181f7583f0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwe", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 999)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 3154)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:34:24 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 25.1ms | Allocations: 7591)
  Rendered layout layouts/application.html.erb (Duration: 52.0ms | Allocations: 21918)
Completed 200 OK in 122ms (Views: 53.6ms | ActiveRecord: 9.1ms | Allocations: 36884)


Started POST "/bookings" for ::1 at 2024-02-24 20:34:28 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"adsas", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3beee0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"adsas", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3beee0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"adsas", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3beee0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"adsas", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c3beee0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"adsas", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 999)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 3325)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:22:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:37:05 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 47.5ms | Allocations: 7830)
  Rendered layout layouts/application.html.erb (Duration: 127.9ms | Allocations: 22159)
Completed 200 OK in 193ms (Views: 131.6ms | ActiveRecord: 8.4ms | Allocations: 37125)


Started POST "/bookings" for ::1 at 2024-02-24 20:37:09 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c327130>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c327130>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c327130>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f181c327130>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 999)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 3373)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:22:in `create'
Started GET "/documents" for ::1 at 2024-02-24 20:39:11 +0300
  
ActionController::RoutingError (No route matches [GET] "/documents"):
  
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:39:36 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 34.6ms | Allocations: 7774)
  Rendered layout layouts/application.html.erb (Duration: 87.7ms | Allocations: 22126)
Completed 200 OK in 154ms (Views: 89.1ms | ActiveRecord: 6.3ms | Allocations: 37147)


Started POST "/bookings" for ::1 at 2024-02-24 20:39:39 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f17ef069240>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f17ef069240>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f17ef069240>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
[31mUnpermitted parameter: :passengers_attributes. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f17ef069240>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"asd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 999)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3379)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:22:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:42:04 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 26.4ms | Allocations: 7734)
  Rendered layout layouts/application.html.erb (Duration: 60.6ms | Allocations: 22061)
Completed 200 OK in 119ms (Views: 60.9ms | ActiveRecord: 9.7ms | Allocations: 36993)


Started POST "/bookings" for ::1 at 2024-02-24 20:42:08 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"cxzc", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 836)


  
TypeError (no implicit conversion of Symbol into Integer):
  
app/controllers/bookings_controller.rb:32:in `[]'
app/controllers/bookings_controller.rb:32:in `booking_create_params'
app/controllers/bookings_controller.rb:13:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:43:39 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 25.5ms | Allocations: 7737)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 22065)
Completed 200 OK in 122ms (Views: 58.6ms | ActiveRecord: 7.7ms | Allocations: 37020)


Started POST "/bookings" for ::1 at 2024-02-24 20:43:42 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"sfg", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 833)


  
NameError (undefined local variable or method `passengers_attributes' for #<BookingsController:0x00000000040060>):
  
app/controllers/bookings_controller.rb:32:in `booking_create_params'
app/controllers/bookings_controller.rb:13:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:44:29 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 22.6ms | Allocations: 7731)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | Allocations: 22058)
Completed 200 OK in 105ms (Views: 52.6ms | ActiveRecord: 9.1ms | Allocations: 36990)


Started POST "/bookings" for ::1 at 2024-02-24 20:44:35 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"sdfsd", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 841)


  
NameError (undefined local variable or method `passengers_attributes' for #<BookingsController:0x00000000043b20>):
  
app/controllers/bookings_controller.rb:32:in `booking_create_params'
app/controllers/bookings_controller.rb:13:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:45:04 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 39.1ms | Allocations: 7766)
  Rendered layout layouts/application.html.erb (Duration: 64.7ms | Allocations: 22096)
Completed 200 OK in 124ms (Views: 66.0ms | ActiveRecord: 6.4ms | Allocations: 37025)


Started POST "/bookings" for ::1 at 2024-02-24 20:45:10 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"ada", "email"=>""}, "1"=>{"name"=>"fwsd", "email"=>""}, "2"=>{"name"=>"xz", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 999)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3547)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:47:00 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 21.8ms | Allocations: 7730)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 22057)
Completed 200 OK in 118ms (Views: 53.7ms | ActiveRecord: 8.4ms | Allocations: 36992)


Started POST "/bookings" for ::1 at 2024-02-24 20:47:04 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"adssa", "email"=>""}, "1"=>{"name"=>"", "email"=>""}, "2"=>{"name"=>"", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:16:in `create'
  [1m[36mFlight Load (2.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:16:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 999)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.6ms | Allocations: 6543)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:19:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:48:43 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 24.7ms | Allocations: 7742)
  Rendered layout layouts/application.html.erb (Duration: 65.5ms | Allocations: 22069)
Completed 200 OK in 129ms (Views: 68.2ms | ActiveRecord: 10.0ms | Allocations: 37000)


Started POST "/bookings" for ::1 at 2024-02-24 20:48:49 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"dfas", "email"=>""}, "1"=>{"name"=>"dafad", "email"=>""}, "2"=>{"name"=>"zcvzx", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:17:in `create'
  [1m[36mFlight Load (2.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:17:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 999)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.9ms | Allocations: 6481)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:50:38 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 24.5ms | Allocations: 7749)
  Rendered layout layouts/application.html.erb (Duration: 48.9ms | Allocations: 22076)
Completed 200 OK in 123ms (Views: 51.2ms | ActiveRecord: 6.8ms | Allocations: 37007)


Started POST "/bookings" for ::1 at 2024-02-24 20:50:47 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"dfsf", "email"=>""}, "1"=>{"name"=>"asdasd", "email"=>""}, "2"=>{"name"=>"XCzxc", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 999)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3314)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:52:18 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (1.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 25.6ms | Allocations: 7749)
  Rendered layout layouts/application.html.erb (Duration: 64.7ms | Allocations: 22078)
Completed 200 OK in 125ms (Views: 64.9ms | ActiveRecord: 8.9ms | Allocations: 37012)


Started POST "/bookings" for ::1 at 2024-02-24 20:52:25 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qerqwe", "email"=>""}, "1"=>{"name"=>"asfasd", "email"=>""}, "2"=>{"name"=>"zxczx", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (2.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 999)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.5ms | Allocations: 6473)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:53:17 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 27.9ms | Allocations: 7734)
  Rendered layout layouts/application.html.erb (Duration: 62.6ms | Allocations: 22062)
Completed 200 OK in 129ms (Views: 64.9ms | ActiveRecord: 6.8ms | Allocations: 37015)


Started POST "/bookings" for ::1 at 2024-02-24 20:53:24 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qerwr", "email"=>""}, "1"=>{"name"=>"adadf", "email"=>""}, "2"=>{"name"=>"zxzc", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (2.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 999)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.5ms | Allocations: 7173)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:54:25 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 37.4ms | Allocations: 7757)
  Rendered layout layouts/application.html.erb (Duration: 74.6ms | Allocations: 22087)
Completed 200 OK in 140ms (Views: 77.7ms | ActiveRecord: 6.5ms | Allocations: 37015)


Started POST "/bookings" for ::1 at 2024-02-24 20:54:32 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qerqw", "email"=>""}, "1"=>{"name"=>"adsfasf", "email"=>""}, "2"=>{"name"=>"zcvzx", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (2.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 999)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.1ms | Allocations: 7047)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:21:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:55:29 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 38.9ms | Allocations: 7716)
  Rendered layout layouts/application.html.erb (Duration: 80.0ms | Allocations: 22044)
Completed 200 OK in 159ms (Views: 82.8ms | ActiveRecord: 11.2ms | Allocations: 36975)


Started POST "/bookings" for ::1 at 2024-02-24 20:55:38 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"eqwrty", "email"=>""}, "1"=>{"name"=>"sfdg", "email"=>""}, "2"=>{"name"=>"zxcvb", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:14:in `create'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:16:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 999)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.4ms | Allocations: 6560)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:22:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:57:14 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 38.0ms | Allocations: 7716)
  Rendered layout layouts/application.html.erb (Duration: 72.6ms | Allocations: 22043)
Completed 200 OK in 141ms (Views: 74.3ms | ActiveRecord: 9.8ms | Allocations: 36969)


Started POST "/bookings" for ::1 at 2024-02-24 20:57:21 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwert", "email"=>""}, "1"=>{"name"=>"asdfg", "email"=>""}, "2"=>{"name"=>"zxcvb", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (2.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 999)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.8ms | Allocations: 7422)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:22:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 20:58:51 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 41.1ms | Allocations: 7728)
  Rendered layout layouts/application.html.erb (Duration: 82.7ms | Allocations: 22055)
Completed 200 OK in 152ms (Views: 85.6ms | ActiveRecord: 6.7ms | Allocations: 36981)


Started POST "/bookings" for ::1 at 2024-02-24 20:59:06 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwert", "email"=>""}, "1"=>{"name"=>"sdfgh", "email"=>""}, "2"=>{"name"=>"xcvbn", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:14:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms | Allocations: 2395)


  
NoMethodError (undefined method `passengers_bookings=' for #<Booking id: nil, number_of_passengers: 3, created_at: nil, updated_at: nil, flight_id: 22>):
  
app/controllers/bookings_controller.rb:16:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:09:25 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (4.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 7235)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 7327)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 6.6ms | Allocations: 20996)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:09:29 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (1.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2100)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 2191)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.2ms | Allocations: 3249)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:09:30 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2100)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 2191)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.7ms | Allocations: 3245)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:09:31 +0300
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:09:31 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (1.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 25.2ms | Allocations: 11152)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 11835)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 2.1ms | Allocations: 19172)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (1.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 19.1ms | Allocations: 9402)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 14544)
Completed 500 Internal Server Error in 70ms (ActiveRecord: 3.0ms | Allocations: 29711)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:10:24 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2100)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 2191)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.9ms | Allocations: 3245)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:10:51 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2100)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 2191)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.5ms | Allocations: 3245)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:10:53 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2100)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 2191)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.9ms | Allocations: 3245)


  
ActionView::Template::Error (undefined method `passengers' for :@booking:Symbol):
    12:     <span>Enter passenger's data:</span>
    13:     <br/>
    14:     <br/>
    15:       <%= f.fields_for :@booking.passengers.build do |n_f| %>
    16:         <div>
    17:             <%= label_tag :name, "Name" %>
    18:             <%= n_f.text_field :name %>
  
app/views/bookings/new.html.erb:15
app/views/bookings/new.html.erb:11
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:11:11 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 29.7ms | Allocations: 7416)
  Rendered layout layouts/application.html.erb (Duration: 60.3ms | Allocations: 21743)
Completed 200 OK in 137ms (Views: 63.2ms | ActiveRecord: 16.7ms | Allocations: 36669)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:11:44 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 26.8ms | Allocations: 7876)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | Allocations: 22203)
Completed 200 OK in 107ms (Views: 52.5ms | ActiveRecord: 7.6ms | Allocations: 37076)


Started POST "/bookings" for ::1 at 2024-02-24 21:11:53 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zxzxv", "email"=>""}}, "commit"=>"Create Booking"}
[31mUnpermitted parameter: :passenger. Context: { controller: BookingsController, action: create, request: #<ActionDispatch::Request:0x00007f17eeaacfa0>, params: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passenger"=>{"name"=>"zxzxv", "email"=>""}}, "commit"=>"Create Booking", "controller"=>"bookings", "action"=>"create"} }[0m
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1008)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:14:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:11:54 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 18.1ms | Allocations: 2204)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 3318)
Completed 200 OK in 31ms (Views: 23.4ms | ActiveRecord: 0.6ms | Allocations: 4393)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:14:14 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 29.9ms | Allocations: 8063)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 8155)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 9.0ms | Allocations: 23054)


  
ActionView::Template::Error (undefined method `email' for #<ActiveRecord::Associations::CollectionProxy [#<Passenger id: nil, email: nil, name: nil, created_at: nil, updated_at: nil, booking_id: nil>, #<Passenger id: nil, email: nil, name: nil, created_at: nil, updated_at: nil, booking_id: nil>, #<Passenger id: nil, email: nil, name: nil, created_at: nil, updated_at: nil, booking_id: nil>]>):
    18:         </div>
    19:         <div>
    20:             <%= label_tag :email, "Email" %>
    21:             <%= n_f.email_field :email %>
    22:         </div>
    23:         <br/>
    24:     <% end %>
  
app/views/bookings/new.html.erb:21
app/views/bookings/new.html.erb:14
app/views/bookings/new.html.erb:10
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:16:49 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 25.9ms | Allocations: 7617)
  Rendered layout layouts/application.html.erb (Duration: 62.3ms | Allocations: 21944)
Completed 200 OK in 122ms (Views: 64.0ms | ActiveRecord: 8.1ms | Allocations: 36875)


Started POST "/bookings" for ::1 at 2024-02-24 21:16:59 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qewr", "email"=>""}, "1"=>{"name"=>"adsf", "email"=>""}, "2"=>{"name"=>"zxvcv", "email"=>""}}}, "commit"=>"Create Booking"}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1057)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:14:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:17:00 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 16.8ms | Allocations: 1972)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 3086)
Completed 200 OK in 38ms (Views: 28.5ms | ActiveRecord: 0.8ms | Allocations: 4164)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:18:54 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 25.5ms | Allocations: 7626)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 21938)
Completed 200 OK in 129ms (Views: 58.5ms | ActiveRecord: 8.3ms | Allocations: 36863)


Started POST "/bookings" for ::1 at 2024-02-24 21:19:02 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qewr", "email"=>""}, "1"=>{"name"=>"adsf", "email"=>""}, "2"=>{"name"=>"XCzcv", "email"=>""}}}, "commit"=>"Create Booking"}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1250)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:15:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:19:02 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 1954)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 3068)
Completed 200 OK in 28ms (Views: 18.9ms | ActiveRecord: 0.5ms | Allocations: 4144)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:20:24 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 21.4ms | Allocations: 7616)
  Rendered layout layouts/application.html.erb (Duration: 46.9ms | Allocations: 21943)
Completed 200 OK in 98ms (Views: 49.0ms | ActiveRecord: 5.8ms | Allocations: 36870)


Started POST "/bookings" for ::1 at 2024-02-24 21:20:30 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwer", "email"=>""}, "1"=>{"name"=>"adfs", "email"=>""}, "2"=>{"name"=>"zcv", "email"=>""}}}, "commit"=>"Create Booking"}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1256)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:15:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:20:31 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 1945)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 3059)
Completed 200 OK in 38ms (Views: 20.3ms | ActiveRecord: 1.3ms | Allocations: 4135)


Started POST "/bookings" for ::1 at 2024-02-24 21:21:16 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qewr", "email"=>""}, "1"=>{"name"=>"adsf", "email"=>""}, "2"=>{"name"=>"zxxv", "email"=>""}}}, "commit"=>"Create Booking"}
Completed 404 Not Found in 11ms (ActiveRecord: 3.4ms | Allocations: 3312)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:15:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:21:16 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 39.5ms | Allocations: 7597)
  Rendered layout layouts/application.html.erb (Duration: 81.4ms | Allocations: 21925)
Completed 200 OK in 155ms (Views: 83.7ms | ActiveRecord: 5.0ms | Allocations: 34785)


Started POST "/bookings" for ::1 at 2024-02-24 21:23:51 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qewr", "email"=>""}, "1"=>{"name"=>"asffd", "email"=>""}, "2"=>{"name"=>"zcvcv", "email"=>""}}}, "commit"=>"Create Booking"}
Completed 404 Not Found in 12ms (ActiveRecord: 2.7ms | Allocations: 3320)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:15:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:23:52 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 52.6ms | Allocations: 7750)
  Rendered layout layouts/application.html.erb (Duration: 99.5ms | Allocations: 22080)
Completed 200 OK in 166ms (Views: 100.4ms | ActiveRecord: 6.1ms | Allocations: 34916)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:24:08 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 28.8ms | Allocations: 2028)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 3127)
Completed 200 OK in 66ms (Views: 45.7ms | ActiveRecord: 0.4ms | Allocations: 4200)


Started POST "/bookings" for ::1 at 2024-02-24 21:24:19 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwer", "email"=>""}, "1"=>{"name"=>"asdfg", "email"=>""}, "2"=>{"name"=>"zxxxxxxxxxxxxxvc", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15:in `create'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 2555)


  
NoMethodError (undefined method `passengers_bookings=' for #<Booking id: nil, number_of_passengers: 3, created_at: nil, updated_at: nil, flight_id: 22>):
  
app/controllers/bookings_controller.rb:17:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:25:25 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 121.8ms | Allocations: 7727)
  Rendered layout layouts/application.html.erb (Duration: 325.5ms | Allocations: 22129)
Completed 200 OK in 408ms (Views: 335.7ms | ActiveRecord: 7.3ms | Allocations: 37057)


Started POST "/bookings" for ::1 at 2024-02-24 21:25:39 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwer", "email"=>""}, "1"=>{"name"=>"asdf", "email"=>""}, "2"=>{"name"=>"zxxcv", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:19:in `create'
  [1m[36mFlight Load (2.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/bookings_controller.rb:19:in `create'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  Rendered bookings/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 999)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.3ms | Allocations: 7617)


  
ActionView::Template::Error (undefined method `arrival_airport' for nil:NilClass):
    2: <br/>
    3: <br/>
    4: <span>Information</span>
    5:  <p>Arrival: <%= @flight.arrival_airport.code %> - 
    6:     Departure: <%= @flight.departure_airport.code %> 
    7:     Date: <%= Time.parse(@flight.start_datetime).to_fs(:long) %>
    8: </p>
  
app/views/bookings/new.html.erb:5
app/controllers/bookings_controller.rb:23:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-02-24 21:34:14 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (3.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 22.3ms | Allocations: 7418)
  Rendered layout layouts/application.html.erb (Duration: 42.7ms | Allocations: 21745)
Completed 200 OK in 96ms (Views: 45.8ms | ActiveRecord: 5.1ms | Allocations: 35436)


Started POST "/bookings" for ::1 at 2024-02-24 21:34:24 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwer", "email"=>""}, "1"=>{"name"=>"asdf", "email"=>""}, "2"=>{"name"=>"zxxxxxxxxvc", "email"=>""}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mFlight Load (2.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 3], ["created_at", "2024-02-24 18:34:24.197454"], ["updated_at", "2024-02-24 18:34:24.197454"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", ""], ["name", "qwer"], ["created_at", "2024-02-24 18:34:24.201457"], ["updated_at", "2024-02-24 18:34:24.201457"], ["booking_id", 1]]
  ↳ app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", ""], ["name", "asdf"], ["created_at", "2024-02-24 18:34:24.204145"], ["updated_at", "2024-02-24 18:34:24.204145"], ["booking_id", 1]]
  ↳ app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", ""], ["name", "zxxxxxxxxvc"], ["created_at", "2024-02-24 18:34:24.207140"], ["updated_at", "2024-02-24 18:34:24.207140"], ["booking_id", 1]]
  ↳ app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:20:in `create'
Redirected to 
Completed 500 Internal Server Error in 39ms (ActiveRecord: 7.6ms | Allocations: 10008)


  
NoMethodError (undefined method `flights_path_url' for #<BookingsController:0x00000000094188>):
  
app/controllers/bookings_controller.rb:21:in `create'
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."booking_id" = ? /* loading for pp */ LIMIT ?[0m  [["booking_id", 1], ["LIMIT", 11]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.0ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "JFK"], ["created_at", "2024-03-18 09:50:30.362760"], ["updated_at", "2024-03-18 09:50:30.362760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAX"], ["created_at", "2024-03-18 09:50:30.368569"], ["updated_at", "2024-03-18 09:50:30.368569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.0ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ATL"], ["created_at", "2024-03-18 09:50:30.372403"], ["updated_at", "2024-03-18 09:50:30.372403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ORD"], ["created_at", "2024-03-18 09:50:30.376944"], ["updated_at", "2024-03-18 09:50:30.376944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LHR"], ["created_at", "2024-03-18 09:50:30.381343"], ["updated_at", "2024-03-18 09:50:30.381343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CDG"], ["created_at", "2024-03-18 09:50:30.385318"], ["updated_at", "2024-03-18 09:50:30.385318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "HND"], ["created_at", "2024-03-18 09:50:30.390454"], ["updated_at", "2024-03-18 09:50:30.390454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "PEK"], ["created_at", "2024-03-18 09:50:30.394367"], ["updated_at", "2024-03-18 09:50:30.394367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DXB"], ["created_at", "2024-03-18 09:50:30.398329"], ["updated_at", "2024-03-18 09:50:30.398329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SIN"], ["created_at", "2024-03-18 09:50:30.402358"], ["updated_at", "2024-03-18 09:50:30.402358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "AMS"], ["created_at", "2024-03-18 09:50:30.406406"], ["updated_at", "2024-03-18 09:50:30.406406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.4ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DFW"], ["created_at", "2024-03-18 09:50:30.415368"], ["updated_at", "2024-03-18 09:50:30.415368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "FRA"], ["created_at", "2024-03-18 09:50:30.419483"], ["updated_at", "2024-03-18 09:50:30.419483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "ICN"], ["created_at", "2024-03-18 09:50:30.424052"], ["updated_at", "2024-03-18 09:50:30.424052"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.6ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "DEN"], ["created_at", "2024-03-18 09:50:30.427961"], ["updated_at", "2024-03-18 09:50:30.427961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "BKK"], ["created_at", "2024-03-18 09:50:30.432055"], ["updated_at", "2024-03-18 09:50:30.432055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (2.1ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "SFO"], ["created_at", "2024-03-18 09:50:30.436030"], ["updated_at", "2024-03-18 09:50:30.436030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "CAN"], ["created_at", "2024-03-18 09:50:30.440854"], ["updated_at", "2024-03-18 09:50:30.440854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.5ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "LAS"], ["created_at", "2024-03-18 09:50:30.444646"], ["updated_at", "2024-03-18 09:50:30.444646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAirport Create (1.3ms)[0m  [1m[32mINSERT INTO "airports" ("code", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["code", "IST"], ["created_at", "2024-03-18 09:50:30.448664"], ["updated_at", "2024-03-18 09:50:30.448664"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (2.0ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-12 10:21:53 +0300"], ["duration", "17 hours 1 minutes"], ["created_at", "2024-03-18 09:50:30.499117"], ["updated_at", "2024-03-18 09:50:30.499117"], ["arrival_airport_id", 6], ["departure_airport_id", 10]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (6.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-10 23:16:02 +0300"], ["duration", "18 hours 22 minutes"], ["created_at", "2024-03-18 09:50:30.517592"], ["updated_at", "2024-03-18 09:50:30.517592"], ["arrival_airport_id", 30], ["departure_airport_id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-23 15:54:47 +0300"], ["duration", "20 hours 0 minutes"], ["created_at", "2024-03-18 09:50:30.561696"], ["updated_at", "2024-03-18 09:50:30.561696"], ["arrival_airport_id", 26], ["departure_airport_id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.9ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-22 11:23:30 +0300"], ["duration", "18 hours 34 minutes"], ["created_at", "2024-03-18 09:50:30.569893"], ["updated_at", "2024-03-18 09:50:30.569893"], ["arrival_airport_id", 32], ["departure_airport_id", 14]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-24 12:13:22 +0300"], ["duration", "10 hours 26 minutes"], ["created_at", "2024-03-18 09:50:30.578345"], ["updated_at", "2024-03-18 09:50:30.578345"], ["arrival_airport_id", 2], ["departure_airport_id", 11]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-04 12:53:57 +0300"], ["duration", "19 hours 13 minutes"], ["created_at", "2024-03-18 09:50:30.586221"], ["updated_at", "2024-03-18 09:50:30.586221"], ["arrival_airport_id", 31], ["departure_airport_id", 26]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-22 18:03:26 +0300"], ["duration", "19 hours 15 minutes"], ["created_at", "2024-03-18 09:50:30.594283"], ["updated_at", "2024-03-18 09:50:30.594283"], ["arrival_airport_id", 29], ["departure_airport_id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-09 21:39:04 +0300"], ["duration", "15 hours 46 minutes"], ["created_at", "2024-03-18 09:50:30.602029"], ["updated_at", "2024-03-18 09:50:30.602029"], ["arrival_airport_id", 7], ["departure_airport_id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-09 16:58:55 +0300"], ["duration", "12 hours 46 minutes"], ["created_at", "2024-03-18 09:50:30.609850"], ["updated_at", "2024-03-18 09:50:30.609850"], ["arrival_airport_id", 2], ["departure_airport_id", 21]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (2.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-14 21:09:35 +0300"], ["duration", "10 hours 57 minutes"], ["created_at", "2024-03-18 09:50:30.617767"], ["updated_at", "2024-03-18 09:50:30.617767"], ["arrival_airport_id", 4], ["departure_airport_id", 25]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (3.0ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-05 12:42:35 +0300"], ["duration", "19 hours 13 minutes"], ["created_at", "2024-03-18 09:50:30.626627"], ["updated_at", "2024-03-18 09:50:30.626627"], ["arrival_airport_id", 21], ["departure_airport_id", 16]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-14 18:42:10 +0300"], ["duration", "10 hours 40 minutes"], ["created_at", "2024-03-18 09:50:30.636709"], ["updated_at", "2024-03-18 09:50:30.636709"], ["arrival_airport_id", 28], ["departure_airport_id", 23]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-22 08:16:32 +0300"], ["duration", "16 hours 10 minutes"], ["created_at", "2024-03-18 09:50:30.645187"], ["updated_at", "2024-03-18 09:50:30.645187"], ["arrival_airport_id", 35], ["departure_airport_id", 26]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-07 01:15:30 +0300"], ["duration", "15 hours 50 minutes"], ["created_at", "2024-03-18 09:50:30.653228"], ["updated_at", "2024-03-18 09:50:30.653228"], ["arrival_airport_id", 17], ["departure_airport_id", 40]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-22 23:30:02 +0300"], ["duration", "16 hours 24 minutes"], ["created_at", "2024-03-18 09:50:30.661103"], ["updated_at", "2024-03-18 09:50:30.661103"], ["arrival_airport_id", 24], ["departure_airport_id", 17]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-31 21:22:02 +0300"], ["duration", "18 hours 59 minutes"], ["created_at", "2024-03-18 09:50:30.669039"], ["updated_at", "2024-03-18 09:50:30.669039"], ["arrival_airport_id", 29], ["departure_airport_id", 15]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-25 03:52:43 +0300"], ["duration", "10 hours 39 minutes"], ["created_at", "2024-03-18 09:50:30.676852"], ["updated_at", "2024-03-18 09:50:30.676852"], ["arrival_airport_id", 27], ["departure_airport_id", 35]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-27 20:55:24 +0300"], ["duration", "16 hours 8 minutes"], ["created_at", "2024-03-18 09:50:30.684674"], ["updated_at", "2024-03-18 09:50:30.684674"], ["arrival_airport_id", 10], ["departure_airport_id", 23]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-22 21:58:53 +0300"], ["duration", "16 hours 13 minutes"], ["created_at", "2024-03-18 09:50:30.692929"], ["updated_at", "2024-03-18 09:50:30.692929"], ["arrival_airport_id", 6], ["departure_airport_id", 29]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-21 07:25:23 +0300"], ["duration", "12 hours 33 minutes"], ["created_at", "2024-03-18 09:50:30.702022"], ["updated_at", "2024-03-18 09:50:30.702022"], ["arrival_airport_id", 21], ["departure_airport_id", 27]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-31 05:18:39 +0300"], ["duration", "15 hours 3 minutes"], ["created_at", "2024-03-18 09:50:30.714530"], ["updated_at", "2024-03-18 09:50:30.714530"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.4ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-02 16:58:02 +0300"], ["duration", "15 hours 8 minutes"], ["created_at", "2024-03-18 09:50:30.722056"], ["updated_at", "2024-03-18 09:50:30.722056"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.6ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-23 23:34:09 +0300"], ["duration", "16 hours 11 minutes"], ["created_at", "2024-03-18 09:50:30.729442"], ["updated_at", "2024-03-18 09:50:30.729442"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-20 10:49:24 +0300"], ["duration", "13 hours 16 minutes"], ["created_at", "2024-03-18 09:50:30.737739"], ["updated_at", "2024-03-18 09:50:30.737739"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-04-16 07:39:58 +0300"], ["duration", "20 hours 23 minutes"], ["created_at", "2024-03-18 09:50:30.745502"], ["updated_at", "2024-03-18 09:50:30.745502"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFlight Create (1.5ms)[0m  [1m[32mINSERT INTO "flights" ("start_datetime", "duration", "created_at", "updated_at", "arrival_airport_id", "departure_airport_id") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["start_datetime", "2024-03-19 15:08:16 +0300"], ["duration", "11 hours 10 minutes"], ["created_at", "2024-03-18 09:50:30.753372"], ["updated_at", "2024-03-18 09:50:30.753372"], ["arrival_airport_id", 2], ["departure_airport_id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Started GET "/" for ::1 at 2024-03-18 12:50:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 5072)
  Rendered layout layouts/application.html.erb (Duration: 534.1ms | Allocations: 97274)
Completed 200 OK in 2763ms (Views: 545.8ms | ActiveRecord: 5.9ms | Allocations: 1102358)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:51:14 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 35.9ms | Allocations: 7362)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 8463)
Completed 200 OK in 77ms (Views: 41.0ms | ActiveRecord: 1.2ms | Allocations: 18125)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 12:51:28 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.9ms | Allocations: 7028)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:9:in `new'
Started GET "/" for ::1 at 2024-03-18 12:51:38 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.8ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 1368)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 2482)
Completed 200 OK in 36ms (Views: 18.7ms | ActiveRecord: 1.1ms | Allocations: 6440)


Started GET "/" for ::1 at 2024-03-18 12:51:38 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 1363)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 2471)
Completed 200 OK in 50ms (Views: 28.4ms | ActiveRecord: 0.7ms | Allocations: 6393)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=4&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:51:50 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"4", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2662)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 3762)
Completed 200 OK in 21ms (Views: 11.6ms | ActiveRecord: 0.8ms | Allocations: 8278)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 12:51:57 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 916)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:9:in `new'
Started GET "/" for ::1 at 2024-03-18 12:52:04 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 1364)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2478)
Completed 200 OK in 59ms (Views: 31.6ms | ActiveRecord: 0.8ms | Allocations: 6392)


Started GET "/" for ::1 at 2024-03-18 12:52:04 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1363)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2463)
Completed 200 OK in 27ms (Views: 10.1ms | ActiveRecord: 0.7ms | Allocations: 6416)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:52:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 2661)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 3761)
Completed 200 OK in 43ms (Views: 20.5ms | ActiveRecord: 1.3ms | Allocations: 8254)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 12:52:45 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:6:in `new'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms | Allocations: 915)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:9:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:55:23 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 5539)
  Rendered layout layouts/application.html.erb (Duration: 51.8ms | Allocations: 19873)
Completed 200 OK in 121ms (Views: 54.8ms | ActiveRecord: 7.3ms | Allocations: 33656)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:55:34 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '1' AND departure_airport_id = '1') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 1364)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 2464)
Completed 200 OK in 59ms (Views: 36.9ms | ActiveRecord: 1.4ms | Allocations: 6958)


Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=9&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:55:45 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"9", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '9' AND departure_airport_id = '2') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1363)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 2463)
Completed 200 OK in 32ms (Views: 16.2ms | ActiveRecord: 0.9ms | Allocations: 6924)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:55:56 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 2659)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 3759)
Completed 200 OK in 64ms (Views: 22.2ms | ActiveRecord: 1.7ms | Allocations: 8251)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 12:58:28 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 4.2ms | Allocations: 10012)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 12:59:47 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.9ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (2.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 5539)
  Rendered layout layouts/application.html.erb (Duration: 69.6ms | Allocations: 19874)
Completed 200 OK in 160ms (Views: 101.2ms | ActiveRecord: 4.7ms | Allocations: 28592)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:02:54 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 5536)
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 19695)
Completed 200 OK in 102ms (Views: 46.2ms | ActiveRecord: 7.4ms | Allocations: 33460)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:02:59 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 21.6ms | Allocations: 2660)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 3774)
Completed 200 OK in 48ms (Views: 28.0ms | ActiveRecord: 1.6ms | Allocations: 8337)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:03:11 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 2658)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 3758)
Completed 200 OK in 33ms (Views: 18.5ms | ActiveRecord: 1.7ms | Allocations: 8299)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:04:27 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.1ms | Allocations: 4976)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:05:41 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 2663)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 3777)
Completed 200 OK in 52ms (Views: 27.2ms | ActiveRecord: 1.8ms | Allocations: 8325)


Started GET "/flights?flight%5Bdeparture_airport%5D=3&flight%5Barrival_airport%5D=7&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-18 13:06:01 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"3", "arrival_airport"=>"7", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '7' AND departure_airport_id = '3') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1364)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 2464)
Completed 200 OK in 42ms (Views: 16.3ms | ActiveRecord: 1.4ms | Allocations: 6928)


Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=14&flight%5Bnumber_of_passengers%5D=7&flight%5Bstart_datetime%5D=2024-03-13&commit=Search" for ::1 at 2024-03-18 13:06:12 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"14", "number_of_passengers"=>"7", "start_datetime"=>"2024-03-13"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '14' AND departure_airport_id = '2') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-13 00:00:00"], ["start_datetime", "2024-03-14"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1363)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 2463)
Completed 200 OK in 39ms (Views: 16.4ms | ActiveRecord: 1.6ms | Allocations: 6948)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:06:20 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 2659)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 3759)
Completed 200 OK in 41ms (Views: 26.1ms | ActiveRecord: 1.3ms | Allocations: 8329)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:09:22 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 5543)
  Rendered layout layouts/application.html.erb (Duration: 52.5ms | Allocations: 19878)
Completed 200 OK in 115ms (Views: 56.1ms | ActiveRecord: 5.9ms | Allocations: 33733)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:09:52 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 5612)
  Rendered layout layouts/application.html.erb (Duration: 50.3ms | Allocations: 19777)
Completed 200 OK in 109ms (Views: 53.3ms | ActiveRecord: 11.3ms | Allocations: 33570)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:09:57 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.1ms | Allocations: 4956)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:10:19 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 6433)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 6525)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 7.8ms | Allocations: 20249)


  
ActionView::Template::Error (no implicit conversion of String into Hash):
    46:     </div>
    47:     <br/>
    48:     <%= @passengers %>
    49:     <%= f.hidden_field :number_of_passengers, @passengers %>
    50:     <%= f.submit "Book flight" %>
    51:   <% end %>
    52: <% end %>
  
app/views/flights/index.html.erb:49
app/views/flights/index.html.erb:42
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:10:22 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3599)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 3690)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.4ms | Allocations: 8228)


  
ActionView::Template::Error (no implicit conversion of String into Hash):
    46:     </div>
    47:     <br/>
    48:     <%= @passengers %>
    49:     <%= f.hidden_field :number_of_passengers, @passengers %>
    50:     <%= f.submit "Book flight" %>
    51:   <% end %>
    52: <% end %>
  
app/views/flights/index.html.erb:49
app/views/flights/index.html.erb:42
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:11:07 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 5556)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 19890)
Completed 200 OK in 115ms (Views: 55.5ms | ActiveRecord: 8.0ms | Allocations: 33728)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:11:12 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"", "number_of_passengers"=>""}, "commit"=>"Book flight"}
Completed 404 Not Found in 23ms (ActiveRecord: 1.9ms | Allocations: 4197)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:7:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:11:13 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 2665)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 3779)
Completed 200 OK in 35ms (Views: 19.4ms | ActiveRecord: 1.7ms | Allocations: 8312)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:11:16 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"", "number_of_passengers"=>""}, "commit"=>"Book flight"}
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 620)


  
ActiveRecord::RecordNotFound (Couldn't find Flight without an ID):
  
app/controllers/bookings_controller.rb:7:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:11:16 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 2660)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 3774)
Completed 200 OK in 35ms (Views: 22.1ms | ActiveRecord: 1.5ms | Allocations: 8322)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:11:50 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1460)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:15:27 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:36
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:37
  Rendered flights/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 5555)
  Rendered layout layouts/application.html.erb (Duration: 45.8ms | Allocations: 19889)
Completed 200 OK in 114ms (Views: 50.5ms | ActiveRecord: 12.5ms | Allocations: 33709)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=1&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:15:33 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"1", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.3ms | Allocations: 5014)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:17:59 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 5559)
  Rendered layout layouts/application.html.erb (Duration: 54.1ms | Allocations: 19789)
Completed 200 OK in 117ms (Views: 58.9ms | ActiveRecord: 6.4ms | Allocations: 33513)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:18:01 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2661)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3761)
Completed 200 OK in 31ms (Views: 15.2ms | ActiveRecord: 1.1ms | Allocations: 8312)


Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=14&flight%5Bnumber_of_passengers%5D=7&flight%5Bstart_datetime%5D=2024-03-13&commit=Search" for ::1 at 2024-03-18 13:18:03 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"14", "number_of_passengers"=>"7", "start_datetime"=>"2024-03-13"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '14' AND departure_airport_id = '2') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-13 00:00:00"], ["start_datetime", "2024-03-14"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 2407)
Completed 200 OK in 74ms (Views: 22.3ms | ActiveRecord: 1.0ms | Allocations: 6887)


Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=14&flight%5Bnumber_of_passengers%5D=7&flight%5Bstart_datetime%5D=2024-03-13&commit=Search" for ::1 at 2024-03-18 13:18:05 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"14", "number_of_passengers"=>"7", "start_datetime"=>"2024-03-13"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '14' AND departure_airport_id = '2') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-13 00:00:00"], ["start_datetime", "2024-03-14"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1306)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 2406)
Completed 200 OK in 29ms (Views: 11.0ms | ActiveRecord: 1.4ms | Allocations: 6877)


Started GET "/flights?flight%5Bdeparture_airport%5D=3&flight%5Barrival_airport%5D=7&flight%5Bnumber_of_passengers%5D=6&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-18 13:18:08 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"3", "arrival_airport"=>"7", "number_of_passengers"=>"6", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '7' AND departure_airport_id = '3') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1306)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 2406)
Completed 200 OK in 54ms (Views: 16.2ms | ActiveRecord: 1.7ms | Allocations: 6883)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:18:08 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2660)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 3760)
Completed 200 OK in 34ms (Views: 17.9ms | ActiveRecord: 1.3ms | Allocations: 8315)


Started GET "/flights?flight%5Bdeparture_airport%5D=2&flight%5Barrival_airport%5D=9&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:18:08 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"2", "arrival_airport"=>"9", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '9' AND departure_airport_id = '2') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 2407)
Completed 200 OK in 31ms (Views: 12.4ms | ActiveRecord: 1.3ms | Allocations: 6875)


Started GET "/flights?flight%5Bdeparture_airport%5D=1&flight%5Barrival_airport%5D=1&flight%5Bnumber_of_passengers%5D=3&flight%5Bstart_datetime%5D=2024-03-11&commit=Search" for ::1 at 2024-03-18 13:18:09 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"1", "arrival_airport"=>"1", "number_of_passengers"=>"3", "start_datetime"=>"2024-03-11"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.7ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '1' AND departure_airport_id = '1') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-11 00:00:00"], ["start_datetime", "2024-03-12"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1306)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2406)
Completed 200 OK in 25ms (Views: 8.8ms | ActiveRecord: 1.5ms | Allocations: 6871)


Started GET "/flights" for ::1 at 2024-03-18 13:18:17 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1306)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 2406)
Completed 200 OK in 29ms (Views: 17.4ms | ActiveRecord: 0.7ms | Allocations: 6320)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-18 13:18:27 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (2.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 4718)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 5832)
Completed 200 OK in 54ms (Views: 22.7ms | ActiveRecord: 1.6ms | Allocations: 10385)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=6&flight%5Bnumber_of_passengers%5D=&commit=Book+flight" for ::1 at 2024-03-18 13:18:37 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>""}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.1ms | Allocations: 5005)


  
NoMethodError (undefined method `times' for nil:NilClass):
  
app/controllers/bookings_controller.rb:10:in `new'
Started GET "/flights" for ::1 at 2024-03-18 13:19:43 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 49.2ms | Allocations: 16805)
Completed 200 OK in 102ms (Views: 52.1ms | ActiveRecord: 5.1ms | Allocations: 29935)


Started GET "/flights" for ::1 at 2024-03-18 13:19:43 +0300
Processing by FlightsController#index as HTML
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1306)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 2419)
Completed 200 OK in 40ms (Views: 18.0ms | ActiveRecord: 0.9ms | Allocations: 6329)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-18 13:19:51 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 6421)
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 7521)
Completed 200 OK in 59ms (Views: 36.5ms | ActiveRecord: 2.1ms | Allocations: 12055)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-03-18 13:19:57 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 14.5ms | Allocations: 3038)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 4141)
Completed 200 OK in 88ms (Views: 17.8ms | ActiveRecord: 2.8ms | Allocations: 18543)


Started POST "/bookings" for ::1 at 2024-03-19 09:11:24 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qw", "email"=>"qwe@gamil.com"}, "1"=>{"name"=>"qw", "email"=>"qwe@gamil.com"}, "2"=>{"name"=>"qw", "email"=>"qwe@gamil.com"}}, "flight_id"=>"22", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 3], ["created_at", "2024-03-19 06:11:25.403949"], ["updated_at", "2024-03-19 06:11:25.403949"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "qwe@gamil.com"], ["name", "qw"], ["created_at", "2024-03-19 06:11:25.407784"], ["updated_at", "2024-03-19 06:11:25.407784"], ["booking_id", 2]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "qwe@gamil.com"], ["name", "qw"], ["created_at", "2024-03-19 06:11:25.416297"], ["updated_at", "2024-03-19 06:11:25.416297"], ["booking_id", 2]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "qwe@gamil.com"], ["name", "qw"], ["created_at", "2024-03-19 06:11:25.420710"], ["updated_at", "2024-03-19 06:11:25.420710"], ["booking_id", 2]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
Completed 302 Found in 204ms (ActiveRecord: 12.2ms | Allocations: 45500)


Started GET "/flights" for ::1 at 2024-03-19 09:11:25 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 3350)
  Rendered layout layouts/application.html.erb (Duration: 110.5ms | Allocations: 35197)
Completed 200 OK in 722ms (Views: 119.2ms | ActiveRecord: 1.7ms | Allocations: 326202)


  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" ORDER BY "bookings"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPassenger Load (0.2ms)[0m  [1m[34mSELECT "passengers".* FROM "passengers" WHERE "passengers"."booking_id" = ? /* loading for pp */ LIMIT ?[0m  [["booking_id", 1], ["LIMIT", 11]]
Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-19 09:46:24 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (1.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 21.7ms | Allocations: 8214)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 22557)
Completed 200 OK in 90ms (Views: 38.8ms | ActiveRecord: 2.8ms | Allocations: 35750)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=1&commit=Book+flight" for ::1 at 2024-03-19 09:46:29 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 18.4ms | Allocations: 2793)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 3895)
Completed 200 OK in 72ms (Views: 25.2ms | ActiveRecord: 1.0ms | Allocations: 12278)


Started POST "/bookings" for ::1 at 2024-03-19 09:47:04 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"Eugene", "email"=>"evgkor93@gmail.com"}}, "flight_id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (1.9ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 1], ["created_at", "2024-03-19 06:47:04.107720"], ["updated_at", "2024-03-19 06:47:04.107720"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "evgkor93@gmail.com"], ["name", "Eugene"], ["created_at", "2024-03-19 06:47:04.110593"], ["updated_at", "2024-03-19 06:47:04.110593"], ["booking_id", 3]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
PassengerMailer#confirmation_email: processed outbound mail in 0.8ms
Completed 500 Internal Server Error in 237ms (ActiveRecord: 2.6ms | Allocations: 62533)


  
NameError (undefined local variable or method `booking' for #<PassengerMailer:0x0000000000e6c8>):
  
app/mailers/passenger_mailer.rb:5:in `confirmation_email'
app/controllers/bookings_controller.rb:21:in `block in create'
app/controllers/bookings_controller.rb:20:in `create'
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=1&commit=Book+flight" for ::1 at 2024-03-19 09:47:18 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 28.1ms | Allocations: 7451)
  Rendered layout layouts/application.html.erb (Duration: 51.8ms | Allocations: 21785)
Completed 200 OK in 109ms (Views: 53.2ms | ActiveRecord: 5.8ms | Allocations: 36647)


Started POST "/bookings" for ::1 at 2024-03-19 09:47:32 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"eugene", "email"=>"evgkor93@gmail.com"}}, "flight_id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (2.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 1], ["created_at", "2024-03-19 06:47:32.817327"], ["updated_at", "2024-03-19 06:47:32.817327"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.7ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "evgkor93@gmail.com"], ["name", "eugene"], ["created_at", "2024-03-19 06:47:32.820699"], ["updated_at", "2024-03-19 06:47:32.820699"], ["booking_id", 4]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:9
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 4.4ms | Allocations: 1210)
  Rendered layout layouts/mailer.html.erb (Duration: 5.4ms | Allocations: 1427)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 0.8ms | Allocations: 194)
  Rendered layout layouts/mailer.text.erb (Duration: 1.9ms | Allocations: 386)
PassengerMailer#confirmation_email: processed outbound mail in 39.5ms
Delivered mail 65f93504d8175_213c63840355aa@yugeha-X507UA.mail (56.2ms)
Date: Tue, 19 Mar 2024 09:47:32 +0300
From: evgkor93@gamil.com
To: evgkor93@gmail.com
Message-ID: <65f93504d8175_213c63840355aa@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f93504d5518_213c63840354ae";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f93504d5518_213c63840354ae
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, eugene
===============================================

You booked ticket to flight from #<Airport:0x00007f4c4e68bb80>
to #<Airport:0x00007f4c4e684100>, on 2024-03-06 21:29:26 +0300

To confirm booking go to this link: http://localhost:3000/bookings/4/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f93504d5518_213c63840354ae
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, eugene</h1>
    <p>
      You booked ticket to flight from #&lt;Airport:0x00007f4c4e68bb80&gt;
      to #&lt;Airport:0x00007f4c4e684100&gt;, on 2024-03-06 21:29:26 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/4/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f93504d5518_213c63840354ae--

Completed 302 Found in 130ms (ActiveRecord: 7.3ms | Allocations: 32487)


Started GET "/flights" for ::1 at 2024-03-19 09:47:32 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.4ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 1900)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 3013)
Completed 200 OK in 53ms (Views: 16.2ms | ActiveRecord: 1.1ms | Allocations: 7343)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-19 09:49:58 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 7538)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 21880)
Completed 200 OK in 105ms (Views: 48.8ms | ActiveRecord: 5.7ms | Allocations: 35679)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=1&commit=Book+flight" for ::1 at 2024-03-19 09:50:02 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 2209)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 3326)
Completed 200 OK in 52ms (Views: 18.6ms | ActiveRecord: 1.4ms | Allocations: 12409)


Started POST "/bookings" for ::1 at 2024-03-19 09:50:16 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"eugene", "email"=>"evgkor93@gmail.com"}}, "flight_id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (3.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 1], ["created_at", "2024-03-19 06:50:16.941951"], ["updated_at", "2024-03-19 06:50:16.941951"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.4ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "evgkor93@gmail.com"], ["name", "eugene"], ["created_at", "2024-03-19 06:50:16.946498"], ["updated_at", "2024-03-19 06:50:16.946498"], ["booking_id", 5]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:9
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 8.5ms | Allocations: 1204)
  Rendered layout layouts/mailer.html.erb (Duration: 10.5ms | Allocations: 1419)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 1.8ms | Allocations: 186)
  Rendered layout layouts/mailer.text.erb (Duration: 5.8ms | Allocations: 377)
PassengerMailer#confirmation_email: processed outbound mail in 29.0ms
Delivered mail 65f935a8f114b_213c63818357ca@yugeha-X507UA.mail (7.0ms)
Date: Tue, 19 Mar 2024 09:50:16 +0300
From: eugene.korchemenko@gamil.com
To: evgkor93@gmail.com
Message-ID: <65f935a8f114b_213c63818357ca@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f935a8efcb6_213c6381835686";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f935a8efcb6_213c6381835686
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, eugene
===============================================

You booked ticket to flight from #<Airport:0x00007f4c4e6567c8>
to #<Airport:0x00007f4c4e653488>, on 2024-03-06 21:29:26 +0300

To confirm booking go to this link: http://localhost:3000/bookings/5/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f935a8efcb6_213c6381835686
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, eugene</h1>
    <p>
      You booked ticket to flight from #&lt;Airport:0x00007f4c4e6567c8&gt;
      to #&lt;Airport:0x00007f4c4e653488&gt;, on 2024-03-06 21:29:26 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/5/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f935a8efcb6_213c6381835686--

Completed 302 Found in 69ms (ActiveRecord: 5.1ms | Allocations: 20971)


Started GET "/flights" for ::1 at 2024-03-19 09:50:17 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 2421)
Completed 200 OK in 24ms (Views: 11.3ms | ActiveRecord: 0.9ms | Allocations: 6405)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-19 09:52:39 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 7535)
  Rendered layout layouts/application.html.erb (Duration: 80.7ms | Allocations: 21884)
Completed 200 OK in 115ms (Views: 83.0ms | ActiveRecord: 4.5ms | Allocations: 35684)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=1&commit=Book+flight" for ::1 at 2024-03-19 09:52:43 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 2202)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 3314)
Completed 200 OK in 59ms (Views: 13.4ms | ActiveRecord: 2.0ms | Allocations: 12418)


Started POST "/bookings" for ::1 at 2024-03-19 09:52:59 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"eugene", "email"=>"evgkor93@gmail.com"}}, "flight_id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (4.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 1], ["created_at", "2024-03-19 06:52:59.191124"], ["updated_at", "2024-03-19 06:52:59.191124"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "evgkor93@gmail.com"], ["name", "eugene"], ["created_at", "2024-03-19 06:52:59.206719"], ["updated_at", "2024-03-19 06:52:59.206719"], ["booking_id", 6]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:9
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 12.9ms | Allocations: 1202)
  Rendered layout layouts/mailer.html.erb (Duration: 15.8ms | Allocations: 1417)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 1.3ms | Allocations: 186)
  Rendered layout layouts/mailer.text.erb (Duration: 2.5ms | Allocations: 377)
PassengerMailer#confirmation_email: processed outbound mail in 30.7ms
Delivered mail 65f9364b42863_213c6380435945@yugeha-X507UA.mail (7.2ms)
Date: Tue, 19 Mar 2024 09:52:59 +0300
From: e_korchemenko@tut.by
To: evgkor93@gmail.com
Message-ID: <65f9364b42863_213c6380435945@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f9364b40b4a_213c6380435841";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f9364b40b4a_213c6380435841
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, eugene
===============================================

You booked ticket to flight from #<Airport:0x00007f4c4e688980>
to #<Airport:0x00007f4c54ea7bd8>, on 2024-03-06 21:29:26 +0300

To confirm booking go to this link: http://localhost:3000/bookings/6/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f9364b40b4a_213c6380435841
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, eugene</h1>
    <p>
      You booked ticket to flight from #&lt;Airport:0x00007f4c4e688980&gt;
      to #&lt;Airport:0x00007f4c54ea7bd8&gt;, on 2024-03-06 21:29:26 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/6/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f9364b40b4a_213c6380435841--

Completed 302 Found in 103ms (ActiveRecord: 9.8ms | Allocations: 20946)


Started GET "/flights" for ::1 at 2024-03-19 09:52:59 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.6ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 2407)
Completed 200 OK in 27ms (Views: 12.5ms | ActiveRecord: 1.0ms | Allocations: 6378)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-19 09:55:49 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 4666)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 5766)
Completed 200 OK in 62ms (Views: 40.5ms | ActiveRecord: 1.6ms | Allocations: 10282)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=22&flight%5Bnumber_of_passengers%5D=1&commit=Book+flight" for ::1 at 2024-03-19 09:55:54 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.1ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 1776)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 2890)
Completed 200 OK in 23ms (Views: 17.3ms | ActiveRecord: 0.4ms | Allocations: 3777)


Started POST "/bookings" for ::1 at 2024-03-19 09:56:02 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"qwewq", "email"=>"adas@SDF"}}, "flight_id"=>"22", "number_of_passengers"=>"1"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (4.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.3ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 1], ["created_at", "2024-03-19 06:56:02.349739"], ["updated_at", "2024-03-19 06:56:02.349739"], ["flight_id", 22]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.5ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "adas@SDF"], ["name", "qwewq"], ["created_at", "2024-03-19 06:56:02.353888"], ["updated_at", "2024-03-19 06:56:02.353888"], ["booking_id", 7]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:9
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 5.5ms | Allocations: 1010)
  Rendered layout layouts/mailer.html.erb (Duration: 5.9ms | Allocations: 1107)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 0.2ms | Allocations: 16)
  Rendered layout layouts/mailer.text.erb (Duration: 0.7ms | Allocations: 113)
PassengerMailer#confirmation_email: processed outbound mail in 20.1ms
Delivered mail 65f937025da5c_213c6384036194@yugeha-X507UA.mail (8.7ms)
Date: Tue, 19 Mar 2024 09:56:02 +0300
From: e_korchemenko@tut.by
To: adas@SDF
Message-ID: <65f937025da5c_213c6384036194@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f937025b09b_213c6384036031";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f937025b09b_213c6384036031
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, qwewq
===============================================

You booked ticket to flight from #<Airport:0x00007f4c4c0fa3d0>
to #<Airport:0x00007f4c4c0f7590>, on 2024-03-06 21:29:26 +0300

To confirm booking go to this link: http://localhost:3000/bookings/7/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f937025b09b_213c6384036031
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, qwewq</h1>
    <p>
      You booked ticket to flight from #&lt;Airport:0x00007f4c4c0fa3d0&gt;
      to #&lt;Airport:0x00007f4c4c0f7590&gt;, on 2024-03-06 21:29:26 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/7/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f937025b09b_213c6384036031--

Completed 302 Found in 57ms (ActiveRecord: 6.2ms | Allocations: 16462)


Started GET "/flights" for ::1 at 2024-03-19 09:56:02 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 2413)
Completed 200 OK in 37ms (Views: 14.6ms | ActiveRecord: 0.7ms | Allocations: 6331)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-19 09:57:17 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (1.0ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 42.9ms | Allocations: 10670)
  Rendered layout layouts/application.html.erb (Duration: 141.9ms | Allocations: 42134)
Completed 200 OK in 589ms (Views: 147.2ms | ActiveRecord: 5.4ms | Allocations: 355721)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=23&flight%5Bnumber_of_passengers%5D=1&commit=Book+flight" for ::1 at 2024-03-19 09:57:22 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"23", "number_of_passengers"=>"1"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2808)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 3910)
Completed 200 OK in 61ms (Views: 13.7ms | ActiveRecord: 1.4ms | Allocations: 18246)


Started POST "/bookings" for ::1 at 2024-03-19 09:57:31 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"mike", "email"=>"mike@gmail.com"}}, "flight_id"=>"23", "number_of_passengers"=>"1"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (2.8ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 1], ["created_at", "2024-03-19 06:57:31.628743"], ["updated_at", "2024-03-19 06:57:31.628743"], ["flight_id", 23]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (3.0ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "mike@gmail.com"], ["name", "mike"], ["created_at", "2024-03-19 06:57:31.637845"], ["updated_at", "2024-03-19 06:57:31.637845"], ["booking_id", 8]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:9
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 12.5ms | Allocations: 1217)
  Rendered layout layouts/mailer.html.erb (Duration: 13.5ms | Allocations: 1434)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 0.9ms | Allocations: 194)
  Rendered layout layouts/mailer.text.erb (Duration: 3.0ms | Allocations: 386)
PassengerMailer#confirmation_email: processed outbound mail in 50.2ms
Delivered mail 65f9375bc98b9_27925382c31760@yugeha-X507UA.mail (94.1ms)
Date: Tue, 19 Mar 2024 09:57:31 +0300
From: e_korchemenko@tut.by
To: mike@gmail.com
Message-ID: <65f9375bc98b9_27925382c31760@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f9375bc6f2b_27925382c316ec";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f9375bc6f2b_27925382c316ec
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, mike
===============================================

You booked ticket to flight from #<Airport:0x00007f81256d44c8>
to #<Airport:0x00007f81256d17c8>, on 2024-03-06 08:29:30 +0300

To confirm booking go to this link: http://localhost:3000/bookings/8/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f9375bc6f2b_27925382c316ec
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, mike</h1>
    <p>
      You booked ticket to flight from #&lt;Airport:0x00007f81256d44c8&gt;
      to #&lt;Airport:0x00007f81256d17c8&gt;, on 2024-03-06 08:29:30 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/8/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f9375bc6f2b_27925382c316ec--

Completed 302 Found in 307ms (ActiveRecord: 6.9ms | Allocations: 77409)


Started GET "/flights" for ::1 at 2024-03-19 09:57:31 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1310)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 2432)
Completed 200 OK in 21ms (Views: 10.2ms | ActiveRecord: 0.5ms | Allocations: 6406)


Started GET "/flights?flight%5Bdeparture_airport%5D=9&flight%5Barrival_airport%5D=2&flight%5Bstart_datetime%5D=2024-03-06&commit=Search" for ::1 at 2024-03-19 09:59:00 +0300
Processing by FlightsController#index as HTML
  Parameters: {"flight"=>{"departure_airport"=>"9", "arrival_airport"=>"2", "start_datetime"=>"2024-03-06"}, "commit"=>"Search"}
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  [1m[36mFlight Load (0.4ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE (arrival_airport_id = '2' AND departure_airport_id = '9') AND "flights"."start_datetime" BETWEEN ? AND ?[0m  [["start_datetime", "2024-03-06 00:00:00"], ["start_datetime", "2024-03-07"]]
  ↳ app/controllers/flights_controller.rb:18:in `!='
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:30
  [1m[36mCACHE Airport Load (0.0ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/flights/index.html.erb:31
  Rendered flights/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 7540)
  Rendered layout layouts/application.html.erb (Duration: 70.3ms | Allocations: 21869)
Completed 200 OK in 116ms (Views: 72.2ms | ActiveRecord: 7.1ms | Allocations: 35710)


Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=23&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-03-19 09:59:06 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"23", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.2ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2505)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 3614)
Completed 200 OK in 48ms (Views: 16.4ms | ActiveRecord: 1.8ms | Allocations: 12933)


Started POST "/bookings" for ::1 at 2024-03-19 09:59:38 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"mike", "email"=>"mike@gmail.com"}, "1"=>{"name"=>"mike", "email"=>"mike@gmail.com"}, "2"=>{"name"=>"nike", "email"=>"nike@gmail.com"}}, "flight_id"=>"23", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (4.6ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (0.5ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 3], ["created_at", "2024-03-19 06:59:38.599824"], ["updated_at", "2024-03-19 06:59:38.599824"], ["flight_id", 23]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "mike@gmail.com"], ["name", "mike"], ["created_at", "2024-03-19 06:59:38.604721"], ["updated_at", "2024-03-19 06:59:38.604721"], ["booking_id", 9]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.3ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "mike@gmail.com"], ["name", "mike"], ["created_at", "2024-03-19 06:59:38.608633"], ["updated_at", "2024-03-19 06:59:38.608633"], ["booking_id", 9]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.8ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "nike@gmail.com"], ["name", "nike"], ["created_at", "2024-03-19 06:59:38.612471"], ["updated_at", "2024-03-19 06:59:38.612471"], ["booking_id", 9]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 8.8ms | Allocations: 2237)
  Rendered layout layouts/mailer.html.erb (Duration: 11.2ms | Allocations: 2325)
PassengerMailer#confirmation_email: processed outbound mail in 15.7ms
Completed 500 Internal Server Error in 76ms (ActiveRecord: 6.8ms | Allocations: 17432)


  
ActionView::Template::Error (undefined method `name' for #<Airport id: 2, code: "LAX", created_at: "2024-02-23 18:49:06.457111000 +0000", updated_at: "2024-02-23 18:49:06.457111000 +0000">):
     5:   <body>
     6:     <h1>Please confirm flight booking ticket, <%= @user.name %></h1>
     7:     <p>
     8:       You booked ticket to flight from <%= @booking.flight.arrival_airport.name %>
     9:       to <%= @booking.flight.departure_airport.name%>, on <%= @booking.flight.start_datetime%>.<br>
    10:     </p>
    11:     <p>
  
app/views/passenger_mailer/confirmation_email.html.erb:8
app/mailers/passenger_mailer.rb:6:in `confirmation_email'
app/controllers/bookings_controller.rb:21:in `block in create'
app/controllers/bookings_controller.rb:20:in `create'
  [1m[36mAirport Load (0.3ms)[0m  [1m[34mSELECT "airports".* FROM "airports" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
Started GET "/bookings/new?flight%5Bid%5D=&flight%5Bid%5D=23&flight%5Bnumber_of_passengers%5D=3&commit=Book+flight" for ::1 at 2024-03-19 10:00:15 +0300
Processing by BookingsController#new as HTML
  Parameters: {"flight"=>{"id"=>"23", "number_of_passengers"=>"3"}, "commit"=>"Book flight"}
  [1m[36mFlight Load (0.3ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:7:in `new'
  Rendering layout layouts/application.html.erb
  Rendering bookings/new.html.erb within layouts/application
  [1m[36mAirport Load (0.2ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:5
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/bookings/new.html.erb:6
  Rendered bookings/new.html.erb within layouts/application (Duration: 24.9ms | Allocations: 7736)
  Rendered layout layouts/application.html.erb (Duration: 49.0ms | Allocations: 22063)
Completed 200 OK in 106ms (Views: 51.6ms | ActiveRecord: 8.1ms | Allocations: 37011)


Started POST "/bookings" for ::1 at 2024-03-19 10:00:37 +0300
Processing by BookingsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "booking"=>{"passengers_attributes"=>{"0"=>{"name"=>"mike", "email"=>"mike@gmail.com"}, "1"=>{"name"=>"mike", "email"=>"mike@gmail.com"}, "2"=>{"name"=>"joe", "email"=>"joe@gmail.com"}}, "flight_id"=>"23", "number_of_passengers"=>"3"}, "commit"=>"Create Booking"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mFlight Load (3.7ms)[0m  [1m[34mSELECT "flights".* FROM "flights" WHERE "flights"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mBooking Create (1.1ms)[0m  [1m[32mINSERT INTO "bookings" ("number_of_passengers", "created_at", "updated_at", "flight_id") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["number_of_passengers", 3], ["created_at", "2024-03-19 07:00:37.736941"], ["updated_at", "2024-03-19 07:00:37.736941"], ["flight_id", 23]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "mike@gmail.com"], ["name", "mike"], ["created_at", "2024-03-19 07:00:37.742752"], ["updated_at", "2024-03-19 07:00:37.742752"], ["booking_id", 10]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "mike@gmail.com"], ["name", "mike"], ["created_at", "2024-03-19 07:00:37.752786"], ["updated_at", "2024-03-19 07:00:37.752786"], ["booking_id", 10]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mPassenger Create (0.2ms)[0m  [1m[32mINSERT INTO "passengers" ("email", "name", "created_at", "updated_at", "booking_id") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "joe@gmail.com"], ["name", "joe"], ["created_at", "2024-03-19 07:00:37.756353"], ["updated_at", "2024-03-19 07:00:37.756353"], ["booking_id", 10]]
  ↳ app/controllers/bookings_controller.rb:18:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/bookings_controller.rb:18:in `create'
Redirected to http://localhost:3000/flights
  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:8
  [1m[36mAirport Load (0.1ms)[0m  [1m[34mSELECT "airports".* FROM "airports" WHERE "airports"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/passenger_mailer/confirmation_email.html.erb:9
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 11.4ms | Allocations: 1203)
  Rendered layout layouts/mailer.html.erb (Duration: 13.7ms | Allocations: 1418)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 4.7ms | Allocations: 187)
  Rendered layout layouts/mailer.text.erb (Duration: 6.6ms | Allocations: 378)
PassengerMailer#confirmation_email: processed outbound mail in 34.6ms
Delivered mail 65f93815c69b0_27925380431999@yugeha-X507UA.mail (39.0ms)
Date: Tue, 19 Mar 2024 10:00:37 +0300
From: e_korchemenko@tut.by
To: mike@gmail.com
Message-ID: <65f93815c69b0_27925380431999@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f93815c4e32_27925380431842";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f93815c4e32_27925380431842
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, mike
===============================================

You booked ticket to flight from #<Airport:0x00007f8125712818>
to #<Airport:0x00007f812586e608>, on 2024-03-06 08:29:30 +0300

To confirm booking go to this link: http://localhost:3000/bookings/10/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f93815c4e32_27925380431842
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, mike</h1>
    <p>
      You booked ticket to flight from LAX
      to DXB, on 2024-03-06 08:29:30 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/10/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f93815c4e32_27925380431842--

  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 18)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 115)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/mailer.text.erb (Duration: 0.6ms | Allocations: 113)
PassengerMailer#confirmation_email: processed outbound mail in 12.1ms
Delivered mail 65f93815d3b60_2792538043217f@yugeha-X507UA.mail (45.6ms)
Date: Tue, 19 Mar 2024 10:00:37 +0300
From: e_korchemenko@tut.by
To: mike@gmail.com
Message-ID: <65f93815d3b60_2792538043217f@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f93815d21ef_27925380432082";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f93815d21ef_27925380432082
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, mike
===============================================

You booked ticket to flight from #<Airport:0x00007f8125712818>
to #<Airport:0x00007f812586e608>, on 2024-03-06 08:29:30 +0300

To confirm booking go to this link: http://localhost:3000/bookings/10/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f93815d21ef_27925380432082
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, mike</h1>
    <p>
      You booked ticket to flight from LAX
      to DXB, on 2024-03-06 08:29:30 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/10/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f93815d21ef_27925380432082--

  Rendering layout layouts/mailer.html.erb
  Rendering passenger_mailer/confirmation_email.html.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 18)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 115)
  Rendering layout layouts/mailer.text.erb
  Rendering passenger_mailer/confirmation_email.text.erb within layouts/mailer
  Rendered passenger_mailer/confirmation_email.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 16)
  Rendered layout layouts/mailer.text.erb (Duration: 3.0ms | Allocations: 113)
PassengerMailer#confirmation_email: processed outbound mail in 16.8ms
Delivered mail 65f93815e45d6_279253804323ca@yugeha-X507UA.mail (72.5ms)
Date: Tue, 19 Mar 2024 10:00:37 +0300
From: e_korchemenko@tut.by
To: joe@gmail.com
Message-ID: <65f93815e45d6_279253804323ca@yugeha-X507UA.mail>
Subject: Confirmation booing flight tickets
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_65f93815e1f62_279253804322bc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_65f93815e1f62_279253804322bc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Please confirm flight booking ticket, joe
===============================================

You booked ticket to flight from #<Airport:0x00007f8125712818>
to #<Airport:0x00007f812586e608>, on 2024-03-06 08:29:30 +0300

To confirm booking go to this link: http://localhost:3000/bookings/10/confirm

Thanks for booking and enjoy your flight!

----==_mimepart_65f93815e1f62_279253804322bc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Please confirm flight booking ticket, joe</h1>
    <p>
      You booked ticket to flight from LAX
      to DXB, on 2024-03-06 08:29:30 +0300.<br>
    </p>
    <p>
      To confirm booking go to this link: http://localhost:3000/bookings/10/confirm.
    </p>
    <p>Thanks for booking and enjoy your flight!</p>
  </body>
</html>
  </body>
</html>

----==_mimepart_65f93815e1f62_279253804322bc--

Completed 302 Found in 300ms (ActiveRecord: 5.9ms | Allocations: 115353)


Started GET "/flights" for ::1 at 2024-03-19 10:00:38 +0300
Processing by FlightsController#index as TURBO_STREAM
  [1m[36mAirport Load (0.5ms)[0m  [1m[34mSELECT "airports".* FROM "airports"[0m
  ↳ app/controllers/flights_controller.rb:5:in `map'
  [1m[36mFlight Load (0.5ms)[0m  [1m[34mSELECT "flights".* FROM "flights"[0m
  ↳ app/controllers/flights_controller.rb:8:in `map'
  Rendering layout layouts/application.html.erb
  Rendering flights/index.html.erb within layouts/application
  Rendered flights/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 1899)
  Rendered layout layouts/application.html.erb (Duration: 41.6ms | Allocations: 3028)
Completed 200 OK in 106ms (Views: 56.1ms | ActiveRecord: 1.0ms | Allocations: 7334)


